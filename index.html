<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="Software make the information world run, and programer make the softeware run.">
<meta property="og:type" content="website">
<meta property="og:title" content="åºå›½æ˜-åšå®¢">
<meta property="og:url" content="http://pangguoming.com/index.html">
<meta property="og:site_name" content="åºå›½æ˜-åšå®¢">
<meta property="og:description" content="Software make the information world run, and programer make the softeware run.">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="åºå›½æ˜-åšå®¢">
<meta name="twitter:description" content="Software make the information world run, and programer make the softeware run.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://pangguoming.com/">





  <title>åºå›½æ˜-åšå®¢</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">åºå›½æ˜-åšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">æ­¤å¿ƒç”¨åº¦å…«åƒéï¼Œä¸æ›¾åŒå€¦</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/e405e215.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/e405e215.html" itemprop="url">å¾®æœåŠ¡Spring cloudç»éªŒæ€»ç»“ç³»åˆ—(åˆçº§ï¼‰ï¼Œç¬¬ä¸‰ç¯‡ï¼šæœåŠ¡æ³¨å†Œä¸å‘ç° Eureka</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-07-26T10:23:06+08:00">
                2020-07-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/ç³»ç»Ÿæ¶æ„/" itemprop="url" rel="index">
                    <span itemprop="name">ç³»ç»Ÿæ¶æ„</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/6a25e0e9.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/6a25e0e9.html" itemprop="url">VuePress</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-02-03T17:35:00+08:00">
                2019-02-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="VuePress"><a href="#VuePress" class="headerlink" title="VuePress"></a>VuePress</h1><p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•è‡ªå·±åœ¨ä½¿ç”¨VuePressè¿‡ç¨‹ä¸­æ‰€é‡åˆ°çš„é—®é¢˜ä»¥åŠå¦‚ä½•ä¸€æ­¥ä¸€æ­¥çš„è§£å†³é—®é¢˜ã€‚</p>
<blockquote>
<p>å®‰è£…vuepresså‰ï¼Œè¯·ç¡®ä¿ä½ çš„ Node.js ç‰ˆæœ¬ &gt;= 8</p>
</blockquote>
<h2 id="å…¨å±€å®‰è£…"><a href="#å…¨å±€å®‰è£…" class="headerlink" title="å…¨å±€å®‰è£…"></a>å…¨å±€å®‰è£…</h2><p><code class="hljs dockerfile"><span class="hljs-comment"># å®‰è£…<br>    yarn global <span class="hljs-keyword">add<span class="bash"> vuepress æˆ–è€…ï¼šnpm install -g vuepress</span></span></span></code></p>
<pre><code>&lt;span class=&quot;hljs-comment&quot;&gt;# æ–°å»ºä¸€ä¸ª markdown æ–‡ä»¶
echo &lt;span class=&quot;hljs-string&quot;&gt;&apos;# Hello VuePress!&apos; &gt; README.md

&lt;span class=&quot;hljs-comment&quot;&gt;# å¼€å§‹å†™ä½œ
vuepress dev .

&lt;span class=&quot;hljs-comment&quot;&gt;# æ„å»ºé™æ€æ–‡ä»¶
vuepress build .&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æ³¨æ„ ï¼š`vuepress dev .`å’Œ`vuepress build .`åé¢çš„`.`ã€‚</span><br><span class="line"></span><br><span class="line">    ## åœ¨ç°æœ‰é¡¹ç›®ä¸­å®‰è£…</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;&lt;code class=&quot;hljs dockerfile&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# å°† vuepress ä½œä¸ºä¸€ä¸ªæœ¬åœ°ä¾èµ–å®‰è£…</span><br><span class="line">    yarn &lt;span class=&quot;hljs-keyword&quot;&gt;add&lt;span class=&quot;bash&quot;&gt; -D vuepress æˆ–è€…ï¼šnpm install -D vuepress</span><br><span class="line"></span><br><span class="line">    &lt;span class=&quot;hljs-comment&quot;&gt;# æ–°å»ºä¸€ä¸ª docs æ–‡ä»¶å¤¹</span><br><span class="line">    mkdir docs</span><br><span class="line"></span><br><span class="line">    &lt;span class=&quot;hljs-comment&quot;&gt;# æ–°å»ºä¸€ä¸ª markdown æ–‡ä»¶</span><br><span class="line">    echo &lt;span class=&quot;hljs-string&quot;&gt;&apos;# Hello VuePress!&apos; &gt; docs/README.md</span><br><span class="line"></span><br><span class="line">    &lt;span class=&quot;hljs-comment&quot;&gt;# å¼€å§‹å†™ä½œ</span><br><span class="line">    npx vuepress dev docs&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>æ¥ç€ï¼Œåœ¨ <code>package.json</code> é‡ŒåŠ ä¸€äº›è„šæœ¬:</p>
<pre><code>&lt;pre&gt;&lt;code class=&quot;hljs json&quot;&gt;{
  &lt;span class=&quot;hljs-attr&quot;&gt;&quot;scripts&quot;: {
    &lt;span class=&quot;hljs-attr&quot;&gt;&quot;docs:dev&quot;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;vuepress dev docs&quot;,
    &lt;span class=&quot;hljs-attr&quot;&gt;&quot;docs:build&quot;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;vuepress build docs&quot;
  }
}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¼€å§‹å†™ä½œ</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;&lt;code class=&quot;hljs less&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;yarn &lt;span class=&quot;hljs-selector-tag&quot;&gt;docs&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:dev æˆ–è€…ï¼š&lt;span class=&quot;hljs-selector-tag&quot;&gt;npm &lt;span class=&quot;hljs-selector-tag&quot;&gt;run &lt;span class=&quot;hljs-selector-tag&quot;&gt;docs&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:dev&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>ç¬¬ä¸€ä¸ªå‘ï¼šæˆ‘çš„é¡¹ç›®å°±æ˜¯ä¾èµ–<code>webpack 3.6.0</code>åŒæ—¶ä¹Ÿæ˜¯ç”¨npmå®‰è£…ä¾èµ–ï¼Œç„¶åç»§ç»­ä½¿ç”¨npmå®‰è£…vuepressï¼Œç„¶åæ‰§è¡Œ<code>npx vuepress dev docs</code>çš„æ—¶å€™æŠ¥é”™äº†ï¼Œä¸Šç½‘æŸ¥äº†å¥½ä¹…ä¹Ÿæ²¡æœ‰è§£å†³é—®é¢˜ï¼Œæœ€åä½¿ç”¨yarnå®‰è£…vuepressæˆåŠŸäº†ã€‚</p>
<p>å¦‚æœä½ çš„ç°æœ‰é¡¹ç›®ä¾èµ–äº† webpack 3.xï¼Œæ¨èä½¿ç”¨ yarnè€Œä¸æ˜¯ npm æ¥å®‰è£… vuepressã€‚</p>
<p>è¦ç”Ÿæˆé™æ€çš„ HTML æ–‡ä»¶ï¼Œè¿è¡Œï¼š</p>
<pre><code>&lt;pre&gt;&lt;code class=&quot;hljs less&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;yarn &lt;span class=&quot;hljs-selector-tag&quot;&gt;docs&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:build æˆ–è€…ï¼š&lt;span class=&quot;hljs-selector-tag&quot;&gt;npm &lt;span class=&quot;hljs-selector-tag&quot;&gt;run &lt;span class=&quot;hljs-selector-tag&quot;&gt;docs&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:build&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–‡ä»¶å°†ä¼šè¢«ç”Ÿæˆåœ¨Â `.vuepress/dist`ï¼Œä¹Ÿå¯ä»¥é€šè¿‡Â `.vuepress/config.js`Â ä¸­çš„Â `dest`Â å­—æ®µæ¥ä¿®æ”¹.</span><br><span class="line"></span><br><span class="line">ä»¥ä¸Šæ­¥éª¤éƒ½æˆåŠŸä»¥åï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨æ€»çœ‹åˆ°é¡µé¢äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¯¹é¡µé¢è¿›è¡Œå¸ƒå±€</span><br><span class="line"></span><br><span class="line">    ## ä¸»é¢˜é…ç½®</span><br><span class="line"></span><br><span class="line">æœ¬æ–‡æ˜¯æ ¹æ®VuePressé»˜è®¤ä¸»é¢˜é…ç½®</span><br><span class="line"></span><br><span class="line">    ### 1.é¦–é¡µ</span><br><span class="line"></span><br><span class="line">åœ¨docsæ–‡ä»¶å¤¹ä¸‹åˆ›å»º`.vuepressæ–‡ä»¶å¤¹`å’Œ`README.mdæ–‡ä»¶`ã€‚(å¦‚æœä»¥åŠæœ‰äº†å°±ä¸è¦å†æ–°å»º)  </span><br><span class="line">æ ¹ç›®å½•ä¸‹çš„README.mdæ–‡ä»¶å¯ä»¥å½“ä½œé¦–é¡µï¼Œåœ¨æ–‡ä»¶ä¸­åŠ å…¥ä¸‹é¢æ–‡å­—ï¼š</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;&lt;code class=&quot;hljs yaml&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;---</span><br><span class="line">    &lt;span class=&quot;hljs-attr&quot;&gt;home: &lt;span class=&quot;hljs-literal&quot;&gt;true</span><br><span class="line">    &lt;span class=&quot;hljs-attr&quot;&gt;actionText: &lt;span class=&quot;hljs-string&quot;&gt;å¿«é€Ÿä¸Šæ‰‹ &lt;span class=&quot;hljs-string&quot;&gt;â†’</span><br><span class="line">    &lt;span class=&quot;hljs-attr&quot;&gt;actionLink: &lt;span class=&quot;hljs-string&quot;&gt;/guide/install/install</span><br><span class="line">    &lt;span class=&quot;hljs-meta&quot;&gt;---&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ï¼Œè¿™å°±å®Œæˆäº†é¦–é¡µçš„å¸ƒå±€<br><code>actionLink: /guide/install/install</code>å°±æ˜¯é¦–é¡µåè¦æ˜¾ç¤ºçš„ä¸‹ä¸€ä¸ªé¡µé¢</p>
<p>æ¥ä¸‹æ¥åœ¨docsæ–‡ä»¶å¤¹ä¸­åˆ›å»º<code>guideæ–‡ä»¶å¤¹</code>(æ ¹æ®è‡ªå·±çš„éœ€è¦å‘½å)ã€‚è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­æ”¾çš„æ˜¯<code>markdown</code>æ–‡ä»¶ï¼Œæ¯ä¸€ä¸ª<code>markdown</code>æ–‡ä»¶å¯¹åº”ä¸€ä¸ªé¡µé¢ã€‚è‡³äºé¡µé¢ä¹‹é—´çš„è·³è½¬å’Œé¡µé¢å¯¼èˆªæ å’Œä¾§è¾¹æ å¸ƒå±€åœ¨<code>config.js</code>æ–‡ä»¶ä¸­è®¾ç½®ã€‚<br>VuePress ç½‘ç«™å¿…è¦çš„é…ç½®æ–‡ä»¶æ˜¯ <code>.vuepress/config.js</code>ï¼Œå®ƒåº”è¯¥å¯¼å‡ºä¸€ä¸ª JavaScript å¯¹è±¡ï¼š</p>
<pre><code>&lt;pre&gt;&lt;code class=&quot;hljs java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;module.&lt;span class=&quot;hljs-keyword&quot;&gt;exports = {
    title: &lt;span class=&quot;hljs-string&quot;&gt;&apos;VuePress&apos;,
    description: &lt;span class=&quot;hljs-string&quot;&gt;&apos;VuePress&apos;,
}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¯¹äºä¸Šè¿°çš„é…ç½®ï¼Œè¿è¡Œ`yarn docs:dev`ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ä¸€ä¸ªé¡µé¢ï¼Œå®ƒåŒ…å«ä¸€ä¸ªé¡µå¤´ï¼Œé‡Œé¢åŒ…å«ä¸€ä¸ªæ ‡é¢˜å’Œä¸€ä¸ªæœç´¢æ¡†ã€‚</span><br><span class="line"></span><br><span class="line">    ### 2.å¯¼èˆªæ </span><br><span class="line"></span><br><span class="line">å¯ä»¥é€šè¿‡Â `themeConfig.nav`Â å¢åŠ ä¸€äº›å¯¼èˆªæ é“¾æ¥:</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;&lt;code class=&quot;hljs groovy&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// .vuepress/config.js</span><br><span class="line">    module.exports = &#123;</span><br><span class="line">    &lt;span class=&quot;hljs-symbol&quot;&gt;  themeConfig: &#123;</span><br><span class="line">    &lt;span class=&quot;hljs-symbol&quot;&gt;    nav: [       </span><br><span class="line">               &#123;&lt;span class=&quot;hljs-string&quot;&gt;text: &lt;span class=&quot;hljs-string&quot;&gt;&apos;æŒ‡å—&apos;,&lt;span class=&quot;hljs-string&quot;&gt;link:&lt;span class=&quot;hljs-string&quot;&gt;&apos;/guide/install/install&apos;&#125;</span><br><span class="line">            ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>å½“ä½ æä¾›äº†ä¸€ä¸ª <code>items</code> æ•°ç»„è€Œä¸æ˜¯ä¸€ä¸ªå•ä¸€çš„ <code>link</code> æ—¶ï¼Œå®ƒå°†æ˜¾ç¤ºä¸ºä¸€ä¸ª <code>ä¸‹æ‹‰åˆ—è¡¨</code> ï¼š</p>
<pre><code>&lt;pre&gt;&lt;code class=&quot;hljs groovy&quot;&gt;module.exports = {
&lt;span class=&quot;hljs-symbol&quot;&gt;  themeConfig: {
&lt;span class=&quot;hljs-symbol&quot;&gt;    nav: [
      {
&lt;span class=&quot;hljs-symbol&quot;&gt;        text: &lt;span class=&quot;hljs-string&quot;&gt;&apos;Languages&apos;,
&lt;span class=&quot;hljs-symbol&quot;&gt;        items: [
          { &lt;span class=&quot;hljs-string&quot;&gt;text: &lt;span class=&quot;hljs-string&quot;&gt;&apos;Chinese&apos;, &lt;span class=&quot;hljs-string&quot;&gt;link: &lt;span class=&quot;hljs-string&quot;&gt;&apos;/language/chinese/&apos; },
          { &lt;span class=&quot;hljs-string&quot;&gt;text: &lt;span class=&quot;hljs-string&quot;&gt;&apos;Japanese&apos;, &lt;span class=&quot;hljs-string&quot;&gt;link: &lt;span class=&quot;hljs-string&quot;&gt;&apos;/language/japanese/&apos; }
        ]
      }
    ]
  }
}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    ### 3.ä¾§è¾¹æ </span><br><span class="line"></span><br><span class="line">æƒ³è¦ä½¿ä¾§è¾¹æ ï¼ˆSidebarï¼‰ç”Ÿæ•ˆï¼Œéœ€è¦é…ç½®Â `themeConfig.sidebar`</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;&lt;code class=&quot;hljs java&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// .vuepress/config.js</span><br><span class="line">    &lt;span class=&quot;hljs-keyword&quot;&gt;module.&lt;span class=&quot;hljs-keyword&quot;&gt;exports = &#123;</span><br><span class="line">      themeConfig: &#123;</span><br><span class="line">        sidebar: [</span><br><span class="line">            &#123;</span><br><span class="line">                title: &lt;span class=&quot;hljs-string&quot;&gt;&apos;å¼€å‘æŒ‡å—&apos;,</span><br><span class="line">                collapsable: &lt;span class=&quot;hljs-keyword&quot;&gt;false, &lt;span class=&quot;hljs-comment&quot;&gt;//æ˜¯å¦å±•å¼€</span><br><span class="line">            &#125;,</span><br><span class="line">            [&lt;span class=&quot;hljs-string&quot;&gt;&apos;./guide/install/install&apos;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;å®‰è£…&apos;],</span><br><span class="line">            [&lt;span class=&quot;hljs-string&quot;&gt;&apos;./guide/started/started&apos;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;å¿«é€Ÿä¸Šæ‰‹&apos;],</span><br><span class="line">            &#123;</span><br><span class="line">                title: &lt;span class=&quot;hljs-string&quot;&gt;&apos;ç»„ä»¶&apos;,</span><br><span class="line">                collapsable: &lt;span class=&quot;hljs-keyword&quot;&gt;false</span><br><span class="line">            &#125;,</span><br><span class="line">            [&lt;span class=&quot;hljs-string&quot;&gt;&apos;./guide/icon/icon&apos;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;icon&apos;],</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>å¯ä»¥çœç•¥ <code>.md</code> æ‹“å±•åï¼ŒåŒæ—¶ä»¥ <code>/</code> ç»“å°¾çš„è·¯å¾„å°†ä¼šè¢«è§†ä¸º <code>*/README.md</code><br>å¦‚æœæƒ³è¦æ˜¾ç¤ºåœ°æŒ‡å®šé“¾æ¥çš„æ–‡å­—ï¼Œä½¿ç”¨ä¸€ä¸ªæ ¼å¼ä¸º <code>[link, text]</code> çš„æ•°ç»„ã€‚<br>å…·ä½“é…ç½®å¯ä»¥æ ¹æ®å®˜ç½‘é…ç½®ï¼š<a href="https://vuepress.vuejs.org/zh/theme/default-theme-config.html#%E4%BE%A7%E8%BE%B9%E6%A0%8F" target="_blank" rel="noopener">é»˜è®¤ä¸»é¢˜é…ç½®</a></p>
<p>è¿™æ˜¯æµè§ˆå™¨æ˜¾ç¤ºæ•ˆæœï¼š</p>
<p><img src="http://pangguoming.com/blog/images/2fa32dba-305a-40d1-aa10-e42f7f4c00e5.jpg" alt="1.png"></p>
<p>ç°åœ¨é¡µé¢åŸºæœ¬ä¹Ÿæ­å»ºå®Œæˆï¼Œå¯ä»¥åœ¨é¡µé¢ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚ä¸‹ä¸€æ­¥æ˜¯å¦‚ä½•åœ¨<code>markdown</code>ä¸­ä½¿ç”¨vueç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯åœ¨é¡µé¢ä¸­å±•ç¤ºè‡ªå·±çš„é¡¹ç›®ã€‚</p>
<pre><code>## åœ¨markdownä¸­ä½¿ç”¨Vue
</code></pre><p>åœ¨<code>.vuepress</code>ä¸­åˆ›å»º<code>components</code>æ–‡ä»¶å¤¹ã€‚<br>æ‰€æœ‰åœ¨ <code>.vuepress/components</code> ä¸­æ‰¾åˆ°çš„ <code>*.vue</code> æ–‡ä»¶å°†ä¼šè‡ªåŠ¨åœ°è¢«æ³¨å†Œä¸ºå…¨å±€çš„å¼‚æ­¥ç»„ä»¶ã€‚</p>
<p>å¦‚æœéœ€è¦å¼•å…¥é™æ€æ–‡ä»¶ï¼Œå¯ä»¥åœ¨<code>.vuepress</code>ä¸‹æ–°å»º<code>public</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å¯ä»¥æ”¾é™æ€æ–‡ä»¶ã€‚</p>
<p>å› ä¸ºæœ¬æ–‡çš„æ¡ˆä¾‹æ˜¯å±•ç¤ºIconå›¾æ ‡ï¼Œæ‰€æœ‰å¼•å…¥äº†<code>svg.js</code>ï¼Œ<code>svg.js</code>å¯ä»¥åœ¨<a href="http://www.iconfont.cn/" target="_blank" rel="noopener">http://www.iconfont.cn/</a>ä¸­è·å–ï¼Œæœ¬æ–‡ä½¿ç”¨<code>## symbolå¼•ç”¨</code>å…·ä½“æ–¹æ³•è¯·è®¿é—®å®˜ç½‘ã€‚æ”¾åœ¨<code>public</code>æ–‡ä»¶å¤¹ä¸­ï¼Œå¯ä»¥åœ¨<code>components</code>æ–‡ä»¶å¤¹ä¸­çš„ç»„ä»¶å¼•å…¥ã€‚</p>
<p>è¿™æ˜¯docsæ–‡ä»¶å¤¹ç›®å½•ç»“æ„</p>
<p><img src="http://pangguoming.com/blog/images/644e33bb-7479-4e29-9d53-7ca5a1bfe4d1.jpg" alt="2.png"></p>
<pre><code>&lt;pre&gt;&lt;code class=&quot;hljs css&quot;&gt;.
â””â”€ &lt;span class=&quot;hljs-selector-class&quot;&gt;.vuepress
   â””â”€ &lt;span class=&quot;hljs-selector-tag&quot;&gt;components
      â”œâ”€ &lt;span class=&quot;hljs-selector-tag&quot;&gt;demo-1&lt;span class=&quot;hljs-selector-class&quot;&gt;.vue
      â””â”€ &lt;span class=&quot;hljs-selector-tag&quot;&gt;Icon
         â””â”€ &lt;span class=&quot;hljs-selector-tag&quot;&gt;vi-icon&lt;span class=&quot;hljs-selector-class&quot;&gt;.vue&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›ç»„ä»¶åœ¨ä»»æ„çš„ Markdown æ–‡ä»¶ä¸­ï¼ˆç»„ä»¶åæ˜¯é€šè¿‡æ–‡ä»¶åå–åˆ°çš„ï¼‰ï¼š</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;&lt;code class=&quot;hljs javascript&quot;&gt;&lt;demo&lt;span class=&quot;hljs-number&quot;&gt;-1/&gt;</span><br><span class="line">    &lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&lt;&lt;span class=&quot;hljs-name&quot;&gt;Icon-vi-icon/&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//æ–‡ä»¶åå’Œç»„ä»¶åä¹‹é—´åŒ`-`è¿æ¥&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>å®Œæˆè¿™ä¸€æ­¥ä»¥åå°±å¯ä»¥åœ¨é¡µé¢ä¸­çœ‹åˆ°è‡ªå·±çš„ç»„ä»¶åœ¨é¡µé¢ä¸­å±•ç¤ºäº†ï¼Œä½†æ˜¯åœ¨è¿è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œæ‰“åŒ…çš„æ—¶å€™ä¼šæŠ¥é”™ï¼š<br>æŠ¥é”™åŸå› å‚è€ƒå®˜ç½‘æ–‡æ¡£ï¼š<a href="https://vuepress.vuejs.org/zh/guide/using-vue.html#%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84-api-%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6" target="_blank" rel="noopener">æµè§ˆå™¨çš„ API è®¿é—®é™åˆ¶</a></p>
<pre><code>&lt;pre&gt;&lt;code class=&quot;hljs less&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;yarn &lt;span class=&quot;hljs-selector-tag&quot;&gt;docs&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:build æˆ–è€…ï¼š&lt;span class=&quot;hljs-selector-tag&quot;&gt;npm &lt;span class=&quot;hljs-selector-tag&quot;&gt;run &lt;span class=&quot;hljs-selector-tag&quot;&gt;docs&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:build&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">è§£å†³è¿™ä¸ªé—®é¢˜åªéœ€è¦åœ¨ä½¿ç”¨Vueç»„ä»¶çš„`markdown`æ–‡ä»¶ä¸­ä½¿ç”¨`&lt;ClientOnly&gt;&lt;/ClientOnly&gt;`å°†ç»„ä»¶åŒ…è£¹èµ·æ¥ã€‚å¦‚ï¼š</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;&lt;code class=&quot;hljs xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&lt;&lt;span class=&quot;hljs-name&quot;&gt;ClientOnly&gt;</span><br><span class="line">      &lt;span class=&quot;hljs-tag&quot;&gt;&lt;&lt;span class=&quot;hljs-name&quot;&gt;Icon-vi-icon/&gt;</span><br><span class="line">    &lt;span class=&quot;hljs-tag&quot;&gt;&lt;/&lt;span class=&quot;hljs-name&quot;&gt;ClientOnly&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>æ³¨æ„ï¼šåœ¨markdownæ–‡ä»¶ä¸­å¦‚æœéœ€è¦ç»™ç»„ä»¶åç¼©è¿›ï¼Œä¸è¦ç”¨<code>tab</code>é”®ï¼Œä¼šè¢«å½“åš<code>markdown</code>è¯­æ³•è§£æã€‚</p>
<p>æµè§ˆå™¨æ•ˆæœå›¾</p>
<p><img src="http://pangguoming.com/blog/images/1d52dc2f-7fe7-4f62-8865-92a887822b72.jpg" alt="3.png"></p>
<p>åˆ°è¿™ä¸€æ­¥ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥åœ¨é¡µé¢ä¸­å±•ç¤ºè‡ªå·±çš„ç»„ä»¶ã€‚ä¸‹ä¸€ç¯‡å°†ç»§ç»­å†™å¦‚ä½•é€šè¿‡Vueç»„ä»¶å®ç°è·Ÿï¼š<a href="http://element-cn.eleme.io/#/zh-CN/component/icon" target="_blank" rel="noopener">Element</a>ç›¸ä¼¼çš„æ•ˆæœã€‚<br><a href="https://segmentfault.com/a/1190000017265894" target="_blank" rel="noopener">é€šè¿‡VuePressç®¡ç†é¡¹ç›®æ–‡æ¡£(äºŒ)</a></p>
<p></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/d4c0a2fe.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/d4c0a2fe.html" itemprop="url">Docker Composeå®‰è£…ä»¥åŠå…¥é—¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-02-01T08:03:00+08:00">
                2019-02-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown"><br><br>Docker Compose æ˜¯ Docker å®˜æ–¹ç¼–æ’ï¼ˆOrchestrationï¼‰é¡¹ç›®ä¹‹ä¸€ï¼Œè´Ÿè´£å¿«é€Ÿåœ¨é›†ç¾¤ä¸­éƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨ã€‚<br><br>## Compose ç®€ä»‹<br><br>Compose é¡¹ç›®æ˜¯ Docker å®˜æ–¹çš„å¼€æºé¡¹ç›®ï¼Œè´Ÿè´£å®ç°å¯¹ Docker å®¹å™¨é›†ç¾¤çš„å¿«é€Ÿç¼–æ’ã€‚Compose å®šä½æ˜¯ ã€Œå®šä¹‰å’Œè¿è¡Œå¤šä¸ª Docker å®¹å™¨çš„åº”ç”¨ï¼ˆDefining and running multicontainer Docker applicationsï¼‰ã€ï¼Œå…¶å‰èº«æ˜¯å¼€æºé¡¹ç›® Figã€‚<br><br>ä½¿ç”¨ä¸€ä¸ª Dockerfile æ¨¡æ¿æ–‡ä»¶ï¼Œå¯ä»¥è®©ç”¨æˆ·å¾ˆæ–¹ä¾¿çš„å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨å®¹å™¨ã€‚ç„¶è€Œï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°éœ€è¦å¤šä¸ªå®¹å™¨ç›¸äº’é…åˆæ¥å®ŒæˆæŸé¡¹ä»»åŠ¡çš„æƒ…å†µã€‚ä¾‹å¦‚è¦å®ç°ä¸€ä¸ª Web é¡¹ç›®ï¼Œé™¤äº† Web æœåŠ¡å®¹å™¨æœ¬èº«ï¼Œå¾€å¾€è¿˜éœ€è¦å†åŠ ä¸Šåç«¯çš„æ•°æ®åº“æœåŠ¡å®¹å™¨ï¼Œç”šè‡³è¿˜åŒ…æ‹¬è´Ÿè½½å‡è¡¡å®¹å™¨ç­‰ã€‚<br><br>Compose æ°å¥½æ»¡è¶³äº†è¿™æ ·çš„éœ€æ±‚ã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ docker-compose.yml æ¨¡æ¿æ–‡ä»¶ï¼ˆYAML æ ¼å¼ï¼‰æ¥å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ä¸ºä¸€ä¸ªé¡¹ç›®ï¼ˆprojectï¼‰ã€‚<br><br>Compose ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼š<br><br><em>   æœåŠ¡ ( service )ï¼šä¸€ä¸ªåº”ç”¨çš„å®¹å™¨ï¼Œå®é™…ä¸Šå¯ä»¥åŒ…æ‹¬è‹¥å¹²è¿è¡Œç›¸åŒé•œåƒçš„å®¹å™¨å®ä¾‹
</em>   é¡¹ç›® ( project )ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡å•å…ƒï¼Œåœ¨ dockercompose.yml æ–‡ä»¶ä¸­å®šä¹‰ã€‚<br><br>Compose çš„é»˜è®¤ç®¡ç†å¯¹è±¡æ˜¯é¡¹ç›®ï¼Œé€šè¿‡å­å‘½ä»¤å¯¹é¡¹ç›®ä¸­çš„ä¸€ç»„å®¹å™¨è¿›è¡Œä¾¿æ·åœ°ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚å¯è§ï¼Œä¸€ä¸ªé¡¹ç›®å¯ä»¥ç”±å¤šä¸ªæœåŠ¡ï¼ˆå®¹å™¨ï¼‰å…³è”è€Œæˆï¼Œ Compose é¢å‘é¡¹ç›®è¿›è¡Œç®¡ç†<br><br>Compose é¡¹ç›®ç”± Python ç¼–å†™ï¼Œå®ç°ä¸Šè°ƒç”¨äº† Docker æœåŠ¡æä¾›çš„ API æ¥å¯¹å®¹å™¨è¿›è¡Œç®¡ç†ã€‚å› æ­¤ï¼Œåªè¦æ‰€æ“ä½œçš„å¹³å°æ”¯æŒ Docker APIï¼Œå°±å¯ä»¥åœ¨å…¶ä¸Šåˆ©ç”¨ Compose æ¥è¿›è¡Œç¼–æ’ç®¡ç†ã€‚<br><br>## å®‰è£…ä¸å¸è½½<br><br>Compose å¯ä»¥é€šè¿‡ Python çš„åŒ…ç®¡ç†å·¥å…· pip è¿›è¡Œå®‰è£…ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ä½¿ç”¨ï¼Œç”šè‡³èƒ½å¤Ÿç›´æ¥åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œã€‚å‰ä¸¤ç§æ–¹å¼æ˜¯ä¼ ç»Ÿæ–¹å¼ï¼Œé€‚åˆæœ¬åœ°ç¯å¢ƒä¸‹å®‰è£…ä½¿ç”¨ï¼›æœ€åä¸€ç§æ–¹å¼åˆ™ä¸ç ´åç³»ç»Ÿç¯å¢ƒï¼Œæ›´é€‚åˆäº‘è®¡ç®—åœºæ™¯ã€‚Docker for Mac ã€ Docker for Windows è‡ªå¸¦ docker-compose äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®‰è£… Docker ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚Linux ç³»ç»Ÿè¯·ä½¿ç”¨ä»¥ä¸‹ä»‹ç»çš„æ–¹æ³•å®‰è£…ã€‚<br><br>### äºŒè¿›åˆ¶åŒ…å®‰è£…<br><br>åœ¨ Linux ä¸Šçš„ä¹Ÿå®‰è£…ååˆ†ç®€å•ï¼Œä» å®˜æ–¹ GitHub Release å¤„ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶å³å¯ã€‚<br><br>ä¾‹å¦‚ï¼Œåœ¨ Linux 64 ä½ç³»ç»Ÿä¸Šç›´æ¥ä¸‹è½½å¯¹åº”çš„äºŒè¿›åˆ¶åŒ…ã€‚<br><br><code class="hljs awk">sudo curl -L https:<span class="hljs-regexp">//github.com<span class="hljs-regexp">/docker/compose<span class="hljs-regexp">/releases/download<span class="hljs-regexp">/1.17.1/docker-compose-<code>uname -s</code>-<code>uname -m</code> &gt; <span class="hljs-regexp">/usr/local<span class="hljs-regexp">/bin/docker-compose<br>    sudo chmod +x <span class="hljs-regexp">/usr/local<span class="hljs-regexp">/bin/docker-compose</span></span></span></span></span></span></span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¯¹äºå¸è½½å¦‚æœæ˜¯äºŒè¿›åˆ¶åŒ…æ–¹å¼å®‰è£…çš„ï¼Œåˆ é™¤äºŒè¿›åˆ¶æ–‡ä»¶å³å¯ã€‚</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;&lt;code class=&quot;hljs groovy&quot;&gt;sudo rm &lt;span class=&quot;hljs-regexp&quot;&gt;/usr/local&lt;span class=&quot;hljs-regexp&quot;&gt;/bin/docker-compose&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>    ### PIP å®‰è£…<br><br>è¿™ç§æ–¹å¼æ˜¯å°† Compose å½“ä½œä¸€ä¸ª Python åº”ç”¨æ¥ä» pip æºä¸­å®‰è£…ã€‚æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š<br><br>    <pre><code class="hljs cmake">sudo pip <span class="hljs-keyword">install -U docker-compose</span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ä½¿ç”¨PIPå®‰è£…çš„æ—¶å€™ï¼Œå¸è½½å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;&lt;code class=&quot;hljs nginx&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;sudo pip uninstall docker-compose&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>    ## ç®€å•å…¥é—¨<br><br>ä¸‹é¢æˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªç½‘ç«™ï¼Œè¯¥ç½‘ç«™çš„ä½œç”¨æ˜¯èƒ½å¤Ÿè®°å½•é¡µé¢çš„è®¿é—®æ¬¡æ•°ã€‚æˆ‘ä»¬ä½¿ç”¨Flaskå¼€å‘ï¼Œç¼“å­˜ä½¿ç”¨redis<br><br>    ### ç¼–å†™wenåº”ç”¨<br><br>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹webï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºapp.pyæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š<br><br>    <pre><code class="hljs python"><span class="hljs-keyword">from flask <span class="hljs-keyword">import Flask<br>    <span class="hljs-keyword">from redis <span class="hljs-keyword">import Redis<br><br>    app = Flask(<strong>name</strong>)<br>    redis = Redis(host=<span class="hljs-string">â€œredisâ€,port=<span class="hljs-number">6379)<br><br>    <span class="hljs-meta">@app.route(â€œ/â€œ)<br>    <span class="hljs-function"><span class="hljs-keyword">def <span class="hljs-title">hello<span class="hljs-params">():<br>        count = redis.incr(<span class="hljs-string">â€˜hitsâ€™)<br>        <span class="hljs-keyword">return <span class="hljs-string">â€˜hello world! {}â€™.format(count)<br><br>    <span class="hljs-keyword">if <strong>name</strong> == <span class="hljs-string">â€œ<strong>main</strong>â€œ:<br>        app.run(host=<span class="hljs-string">â€œ0.0.0.0â€,debug=<span class="hljs-keyword">True)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### ç¼–å†™Dockerfileæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">&lt;pre&gt;&lt;code class=&quot;hljs dockerfile&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;FROM python:&lt;span class=&quot;hljs-number&quot;&gt;3.6-alpine</span><br><span class="line">&lt;span class=&quot;hljs-keyword&quot;&gt;ADD&lt;span class=&quot;bash&quot;&gt; . /code</span><br><span class="line">&lt;span class=&quot;hljs-keyword&quot;&gt;WORKDIR&lt;span class=&quot;bash&quot;&gt; /code</span><br><span class="line">&lt;span class=&quot;hljs-keyword&quot;&gt;RUN&lt;span class=&quot;bash&quot;&gt; pip install redis flask</span><br><span class="line">&lt;span class=&quot;hljs-keyword&quot;&gt;CMD&lt;span class=&quot;bash&quot;&gt; [&lt;span class=&quot;hljs-string&quot;&gt;&quot;python&quot;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;app.py&quot;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>    ### docker-compose.yml<br><br>ç¼–å†™ docker-compose.yml æ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯ Compose ä½¿ç”¨çš„ä¸»æ¨¡æ¿æ–‡ä»¶ã€‚<br><br>    <pre><code class="hljs less"><span class="hljs-attribute">version: <span class="hljs-string">â€˜3â€™<br>    <span class="hljs-attribute">services:<br>        <span class="hljs-attribute">web:<br>            <span class="hljs-attribute">build: .<br>            <span class="hljs-attribute">ports:<br>                - <span class="hljs-string">â€œ5000:5000â€<br>        <span class="hljs-attribute">redis:<br>            <span class="hljs-attribute">images: <span class="hljs-string">â€œredis:alpineâ€</span></span></span></span></span></span></span></span></span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### è¿è¡Œ compose é¡¹ç›®</span><br><span class="line"></span><br><span class="line">&lt;pre&gt;&lt;code class=&quot;hljs&quot;&gt;docker-compose up&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>æ­¤æ—¶è®¿é—®æœ¬åœ° 5000 ç«¯å£ï¼Œæ¯æ¬¡åˆ·æ–°é¡µé¢ï¼Œè®¡æ•°å°±ä¼šåŠ  1ã€‚<br><br>    <div id="MySignature">æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹</div></pre></pre></pre><br></div>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/59d097ac.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/59d097ac.html" itemprop="url">PDF.jså®ç°ä¸ªæ€§åŒ–PDFæ¸²æŸ“ï¼ˆæ–‡æœ¬å¤åˆ¶ï¼‰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-31T11:35:00+08:00">
                2019-01-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æˆ‘è‚¥æ¥å•¦ğŸ˜ã€‚çœ‹åˆ°<a href="https://segmentfault.com/a/1190000011474522?_ea=4972178" target="_blank" rel="noopener">Reduxæ•™ç¨‹</a>çªç ´3wçš„æµè§ˆé‡ï¼Œå°çªƒå–œï¼Œå¾ˆé«˜å…´è‡ªå·±çš„æ–‡ç« èƒ½å¤Ÿå¸®åŠ©åˆ°å¤§å®¶ã€‚</p>
</blockquote>
<p>è¿™æ¬¡é‡è¿”ï¼Œä¾ç„¶å¸¦ç»™å¤§å®¶ä¸€ä¸ªå°æŒ‡å—ï¼Œä¹Ÿæ˜¯æœ€è¿‘å·¥ä½œä¸­é‡åˆ°çš„ä¸€ä¸ªå°caseã€‚</p>
<p>å‰ä¸ä¹…ï¼Œäº§å“ç»ç†æå‡ºè¦åœ¨ç•Œé¢ä¸Šä¼˜é›…åœ°å±•ç¤ºPDFæ–‡æ¡£ï¼Œå½“å³å°±æœ‰äº†ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<p><strong>å®ç°æ–¹å¼ä¸€</strong><br>ä½¿ç”¨<code>embed</code>æ ‡è®°æ¥ä½¿ç”¨æµè§ˆå™¨è‡ªå¸¦çš„pdfå·¥å…·ã€‚</p>
<p>è¿™ç§å®ç°æ–¹å¼ä¼˜ç¼ºç‚¹éƒ½å¾ˆæ˜æ˜¾ï¼š<br>ä¼˜ç‚¹ï¼šè‡ªå¸¦â€œæ‰“å°â€ï¼Œâ€œæœç´¢â€ï¼Œâ€œç¿»é¡µâ€ç­‰åŠŸèƒ½ï¼Œå¼ºå¤§ä¸”å®ç°æ–¹ä¾¿ã€‚<br>ç¼ºç‚¹ï¼šä¸åŒæµè§ˆå™¨çš„pdfå·¥å…·æ ·å¼ä¸ä¸€ï¼Œä¸”æ— æ³•æ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œæ¯”å¦‚ï¼šç¦æ­¢æ‰“å°ï¼Œä¸‹è½½ç­‰ã€‚</p>
<p><em>æˆ‘ä»¬çš„äº§å“ç»ç†æ˜¯æŒ‘å‰”çš„</em>ğŸ˜’ï¼Œäºæ˜¯â€¦</p>
<p><strong>å®ç°æ–¹å¼äºŒ</strong><br>ä½¿ç”¨Mozillaçš„<code>PDF.js</code>ï¼Œè‡ªå®šä¹‰å±•ç¤ºPDFã€‚</p>
<blockquote>
<p>ä¸‹é¢æˆ‘ä»¬å°±ç»†è‡´è®²è¿°ä¸€ä¸‹ä½¿ç”¨<code>PDF.js</code>è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚ä¸»è¦åŒ…æ‹¬ï¼š</p>
</blockquote>
<ul>
<li>åŸºç¡€åŠŸèƒ½é›†æˆ</li>
<li>ä½¿ç”¨<code>Text-Layers</code>æ¸²æŸ“</li>
</ul>
<h4 id="ä»€ä¹ˆæ˜¯PDF-JS"><a href="#ä»€ä¹ˆæ˜¯PDF-JS" class="headerlink" title="ä»€ä¹ˆæ˜¯PDF.JS"></a>ä»€ä¹ˆæ˜¯PDF.JS</h4><p>PDF.jsæ˜¯åŸºäºHTML5æŠ€æœ¯æ„å»ºçš„ï¼Œç”¨äºå±•ç¤ºå¯ç§»æ¤æ–‡æ¡£æ ¼å¼çš„æ–‡ä»¶(PDF)ï¼Œå®ƒå¯ä»¥åœ¨ç°ä»£æµè§ˆå™¨ä¸­ä½¿ç”¨ä¸”æ— éœ€å®‰è£…ä»»ä½•ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚</p>
<h4 id="åŸºç¡€åŠŸèƒ½é›†æˆ"><a href="#åŸºç¡€åŠŸèƒ½é›†æˆ" class="headerlink" title="åŸºç¡€åŠŸèƒ½é›†æˆ"></a>åŸºç¡€åŠŸèƒ½é›†æˆ</h4><p>1ï¸âƒ£<strong>å¼•ç”¨</strong></p>
<p>é¦–å…ˆï¼Œå¼•ç”¨<code>PDF.js</code>å°±é‡åˆ°äº†é—®é¢˜ï¼Œ<a href="https://mozilla.github.io/pdf.js/getting_started/" target="_blank" rel="noopener">å®˜ç½‘</a>ä¸­æåˆ°é€šè¿‡CDNå¼•ç”¨æˆ–è€…ä¸‹è½½æºç è‡³æœ¬åœ°ã€‚<br>è€Œæˆ‘ä»¬å¹¶ä¸æƒ³æ±¡æŸ“æˆ‘ä»¬çš„<code>index.html</code>å¹¶ä¸”å¸Œæœ›å¯ä»¥å¯¹æ¯ä¸€ä¸ªå¼•ç”¨çš„æ¡†æ¶æœ‰ç»Ÿä¸€çš„ç‰ˆæœ¬ç®¡ç†ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬æœå¯»åˆ°ä¸€ä¸ªåŒ…ï¼š<strong>pdfjs-dist</strong>ã€‚</p>
<p>é€šè¿‡<code>npm install pdfjs-dist</code>ï¼Œæˆ‘ä»¬å¼•å…¥äº†PDF.jsã€‚</p>
<p>åŸºç¡€åŠŸèƒ½æœ‰ä¸¤ä¸ªå¿…é¡»å¼•ç”¨çš„æ–‡ä»¶ï¼š</p>
<ul>
<li>pdf.js</li>
<li>pdf.worker.js</li>
</ul>
<p>å¦‚æœä½¿ç”¨CDNçš„æ–¹å¼ï¼Œç›´æ¥å¼•ç”¨å¦‚ä¸‹å¯¹åº”æ–‡ä»¶å³å¯ï¼š</p>
<ul>
<li><a href="https://mozilla.github.io/pdf.js/build/pdf.js" target="_blank" rel="noopener">https://mozilla.github.io/pdfâ€¦</a></li>
<li><a href="https://mozilla.github.io/pdf.js/build/pdf.worker.js" target="_blank" rel="noopener">https://mozilla.github.io/pdfâ€¦</a></li>
</ul>
<p>å¦‚æœä½¿ç”¨npmçš„æ–¹å¼ï¼Œåˆ™åœ¨éœ€è¦ä½¿ç”¨PDF.jsçš„æ–‡ä»¶ä¸­å¦‚ä¸‹å¼•ç”¨:</p>
<p><code class="JavaScript"><span class="hljs-keyword">import PDFJS <span class="hljs-keyword">from <span class="hljs-string">â€˜pdfjs-distâ€™;</span></span></span></code></p>
<pre><code>PDFJS.GlobalWorkerOptions.workerSrc = &lt;span class=&quot;hljs-string&quot;&gt;&apos;pdfjs-dist/build/pdf.worker.js&apos;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">è¿™ä¸¤ä¸ªæ–‡ä»¶åŒ…å«äº†è·å–ã€è§£æå’Œå±•ç¤ºPDFæ–‡æ¡£çš„æ–¹æ³•ï¼Œä½†æ˜¯è§£æå’Œæ¸²æŸ“PDFéœ€è¦è¾ƒé•¿çš„æ—¶é—´ï¼Œå¯èƒ½ä¼šé˜»å¡å…¶å®ƒJSä»£ç çš„è¿è¡Œã€‚</span><br><span class="line"></span><br><span class="line">ä¸ºè§£å†³è¯¥é—®é¢˜ï¼Œpdf.jsä¾èµ–äº†HTML5å¼•å…¥çš„[Web Workers](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers)â€”â€”é€šè¿‡ä»ä¸»çº¿ç¨‹ä¸­ç§»é™¤å¤§é‡CPUæ“ä½œï¼ˆå¦‚è§£æå’Œæ¸²æŸ“ï¼‰æ¥æå‡æ€§èƒ½ã€‚</span><br><span class="line"></span><br><span class="line">PDF.jsçš„APIéƒ½ä¼šè¿”å›ä¸€ä¸ªPromiseï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä¼˜é›…çš„å¤„ç†å¼‚æ­¥æ“ä½œã€‚</span><br><span class="line"></span><br><span class="line">2ï¸âƒ£**ä½¿ç”¨**</span><br><span class="line"></span><br><span class="line">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨HTMLä¸­æ·»åŠ `&lt;canvas&gt;`å…ƒç´ ä»¥æ¸²æŸ“PDFï¼š</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;xml hljs&quot;&gt;&lt;code class=&quot;html&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&lt;&lt;span class=&quot;hljs-name&quot;&gt;canvasÂ &lt;span class=&quot;hljs-attr&quot;&gt;id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;pdf-canvas&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&lt;/&lt;span class=&quot;hljs-name&quot;&gt;canvas&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>ç„¶åæ·»åŠ æ¸²æŸ“PDFçš„jsä»£ç ï¼š</p>
<pre><code>&lt;pre class=&quot;javascript hljs&quot;&gt;&lt;code class=&quot;javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var url = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Helloworld.pdf&apos;;

PDFJS.getDocument(url).then(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;pdf) =&gt; {
    &lt;span class=&quot;hljs-keyword&quot;&gt;return pdf.getPage(&lt;span class=&quot;hljs-number&quot;&gt;1);
}).then(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;page) =&gt; {
    &lt;span class=&quot;hljs-comment&quot;&gt;// è®¾ç½®å±•ç¤ºæ¯”ä¾‹
    &lt;span class=&quot;hljs-keyword&quot;&gt;var scale = &lt;span class=&quot;hljs-number&quot;&gt;1.5;
    &lt;span class=&quot;hljs-comment&quot;&gt;// è·å–pdfå°ºå¯¸
    &lt;span class=&quot;hljs-keyword&quot;&gt;var viewport = page.getViewport(scale);
    &lt;span class=&quot;hljs-comment&quot;&gt;// è·å–éœ€è¦æ¸²æŸ“çš„å…ƒç´ 
    &lt;span class=&quot;hljs-keyword&quot;&gt;var canvas = &lt;span class=&quot;hljs-built_in&quot;&gt;document.getElementById(&lt;span class=&quot;hljs-string&quot;&gt;&apos;pdf-canvas&apos;);
    &lt;span class=&quot;hljs-keyword&quot;&gt;var context = canvas.getContext(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2d&apos;);
    canvas.height = viewport.height;
    canvas.width = viewport.width;

    &lt;span class=&quot;hljs-keyword&quot;&gt;var renderContext = {
        &lt;span class=&quot;hljs-attr&quot;&gt;canvasContext: context,
        &lt;span class=&quot;hljs-attr&quot;&gt;viewport: viewport
    };

    page.render(renderContext);
});&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ç°åœ¨ï¼ŒPDFå·²ç»æˆåŠŸæ¸²æŸ“åœ¨ç•Œé¢ä¸Šäº†ã€‚æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ä½¿ç”¨åˆ°çš„å‡½æ•°ï¼š</span><br><span class="line"></span><br><span class="line">`getDocument()`ï¼šç”¨äºå¼‚æ­¥è·å–PDfæ–‡æ¡£ï¼Œå‘é€å¤šä¸ªAjaxè¯·æ±‚ä»¥å—çš„å½¢å¼ä¸‹è½½æ–‡æ¡£ã€‚å®ƒè¿”å›ä¸€ä¸ªPromiseï¼Œè¯¥Promiseçš„æˆåŠŸå›è°ƒä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«PDFæ–‡æ¡£çš„ä¿¡æ¯ï¼Œè¯¥å›è°ƒä¸­çš„ä»£ç å°†åœ¨å®ŒæˆPDfæ–‡æ¡£è·å–æ—¶æ‰§è¡Œã€‚</span><br><span class="line"></span><br><span class="line">`getPage()`ï¼šç”¨äºè·å–PDFæ–‡æ¡£ä¸­çš„å„ä¸ªé¡µé¢ã€‚</span><br><span class="line"></span><br><span class="line">`getViewport()`ï¼šé’ˆå¯¹æä¾›çš„å±•ç¤ºæ¯”ä¾‹ï¼Œè¿”å›PDfæ–‡æ¡£çš„é¡µé¢å°ºå¯¸ã€‚</span><br><span class="line"></span><br><span class="line">`render()`ï¼šæ¸²æŸ“PDFã€‚</span><br><span class="line"></span><br><span class="line">åˆ°è¿™é‡Œï¼ŒåŸºæœ¬åŠŸèƒ½å‘Šä¸€æ®µè½äº†ã€‚  </span><br><span class="line">æ»¡å¿ƒæ¬¢å–œå‡†å¤‡ä¸Šçº¿çš„æ—¶å€™ï¼Œäº§å“ç»ç†æå‡ºäº†å¦ä¸€ä¸ªéœ€æ±‚ï¼šæ–‡æœ¬å¤åˆ¶ã€‚  </span><br><span class="line">ç„¶é¹…ã€‚ã€‚ã€‚ç¿»äº†å¥½å‡ éå®˜æ–¹æ–‡æ¡£ï¼Œä¹Ÿæ²¡æœ‰æ‰¾åˆ°æ–‡æœ¬å¤åˆ¶çš„æ–¹æ³•ï¼Œå¹¶ä¸”stackoverflowä¸Šæœ‰å¾ˆå¤šç±»ä¼¼çš„é—®é¢˜ã€‚  </span><br><span class="line">åœ¨ä¸æ–­çš„å°è¯•ä¸‹ï¼Œæˆ‘ä»¬å‘ç°äº†`Text-Layer`ã€‚</span><br><span class="line"></span><br><span class="line">    #### ä½¿ç”¨Text-Layersæ¸²æŸ“</span><br><span class="line"></span><br><span class="line">PDF.jsæ”¯æŒåœ¨ä½¿ç”¨Canvasæ¸²æŸ“çš„PDFé¡µé¢ä¸Šæ¸²æŸ“æ–‡æœ¬å›¾å±‚ã€‚ç„¶è€Œï¼Œè¿™ä¸ªåŠŸèƒ½éœ€è¦ç”¨åˆ°é¢å¤–çš„ä¸¤ä¸ªæ–‡ä»¶ï¼š`text_layer_builder.js`å’Œ`text_layer_builder.css`ã€‚æˆ‘ä»¬å¯ä»¥åœ¨GitHubçš„repoä¸­è·å–åˆ°ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœæ˜¯ä½¿ç”¨npmï¼Œåˆ™éœ€è¦åšå¦‚ä¸‹å¼•ç”¨ï¼š</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;javascript hljs&quot;&gt;&lt;code class=&quot;javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import &#123; TextLayerBuilder &#125; &lt;span class=&quot;hljs-keyword&quot;&gt;from &lt;span class=&quot;hljs-string&quot;&gt;&apos;pdfjs-dist/web/pdf_viewer&apos;;</span><br><span class="line">    &lt;span class=&quot;hljs-keyword&quot;&gt;import &lt;span class=&quot;hljs-string&quot;&gt;&apos;pdfjs-dist/web/pdf_viewer.css&apos;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p><strong>ç°åœ¨ï¼Œæˆ‘ä»¬å¼€å§‹å®ç°æ–‡æœ¬å¤åˆ¶åŠŸèƒ½ã€‚</strong></p>
<p>é¦–å…ˆï¼Œåˆ›å»ºæ¸²æŸ“éœ€è¦ç”¨åˆ°DOMèŠ‚ç‚¹ï¼š</p>
<pre><code>&lt;pre class=&quot;xml hljs&quot;&gt;&lt;code class=&quot;html&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&lt;&lt;span class=&quot;hljs-name&quot;&gt;div &lt;span class=&quot;hljs-attr&quot;&gt;id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`div#container`ä¸ºæœ€å¤–å±‚èŠ‚ç‚¹ï¼Œåœ¨è¯¥divä¸­ï¼Œæˆ‘ä»¬ä¼šä¸ºPDFçš„æ¯ä¸ªé¡µé¢åˆ›å»ºè‡ªå·±çš„`div`ï¼Œåœ¨æ¯ä¸ªé¡µé¢çš„`div`ä¸­ï¼Œéƒ½ä¼šæœ‰`Canvas`å…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line">æ¥ç€ï¼Œæˆ‘ä»¬ä¿®æ”¹JSä»£ç ï¼š</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;javascript hljs&quot;&gt;&lt;code class=&quot;javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var container, pageDiv;</span><br><span class="line"></span><br><span class="line">    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function &lt;span class=&quot;hljs-title&quot;&gt;getPDF(&lt;span class=&quot;hljs-params&quot;&gt;url) &#123;</span><br><span class="line">        PDFJS.getDocument(url).then(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;pdf) =&gt; &#123;</span><br><span class="line">            pdfDoc = pdf;</span><br><span class="line">            container = &lt;span class=&quot;hljs-built_in&quot;&gt;document.getElementById(&lt;span class=&quot;hljs-string&quot;&gt;&apos;container&apos;);</span><br><span class="line">            &lt;span class=&quot;hljs-keyword&quot;&gt;for (&lt;span class=&quot;hljs-keyword&quot;&gt;var i = &lt;span class=&quot;hljs-number&quot;&gt;1; i&lt;= pdf.numPages; i++) &#123;</span><br><span class="line">                renderPDF(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function &lt;span class=&quot;hljs-title&quot;&gt;renderPDF(&lt;span class=&quot;hljs-params&quot;&gt;num) &#123;</span><br><span class="line">        pdf.getPage(num).then(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;page) =&gt; &#123;</span><br><span class="line">            &lt;span class=&quot;hljs-keyword&quot;&gt;var scale = &lt;span class=&quot;hljs-number&quot;&gt;1.5;</span><br><span class="line">            &lt;span class=&quot;hljs-keyword&quot;&gt;var viewport = page.getViewport(scale);</span><br><span class="line">            pageDiv = &lt;span class=&quot;hljs-built_in&quot;&gt;document.createElement(&lt;span class=&quot;hljs-string&quot;&gt;&apos;div&apos;);</span><br><span class="line">            pageDiv.setAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&apos;id&apos;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;page-&apos; + (page.pageIndex + &lt;span class=&quot;hljs-number&quot;&gt;1));</span><br><span class="line">            pageDiv.setAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&apos;style&apos;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;position: relative&apos;);</span><br><span class="line">            container.appendChild(pageDiv);</span><br><span class="line">            &lt;span class=&quot;hljs-keyword&quot;&gt;var canvas = &lt;span class=&quot;hljs-built_in&quot;&gt;document.createElement(&lt;span class=&quot;hljs-string&quot;&gt;&apos;canvas&apos;);</span><br><span class="line">            pageDiv.appendChild(canvas);</span><br><span class="line">            &lt;span class=&quot;hljs-keyword&quot;&gt;var context = canvas.getContext(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2d&apos;);</span><br><span class="line">            canvas.height = viewport.height;</span><br><span class="line">            canvas.width = view.width;</span><br><span class="line"></span><br><span class="line">            &lt;span class=&quot;hljs-keyword&quot;&gt;var renderContext = &#123;</span><br><span class="line">                &lt;span class=&quot;hljs-attr&quot;&gt;canvasContext: context,</span><br><span class="line">                &lt;span class=&quot;hljs-attr&quot;&gt;viewport: viewport</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            page.render(renderContext);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>ä»¥ä¸Šä»£ç åªæ˜¯å®ç°äº†å¤šé¡µæ¸²æŸ“ï¼Œæ¥ä¸‹æ¥ï¼Œå¼€å§‹æ¸²æŸ“æ–‡æœ¬å›¾å±‚ã€‚æˆ‘ä»¬éœ€è¦å°†<code>page.render(renderContext)</code>ä¿®æ”¹ä¸ºä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code>&lt;pre class=&quot;javascript hljs&quot;&gt;&lt;code class=&quot;javascript&quot;&gt;page.render(renderContext).then(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;() =&gt; {
    &lt;span class=&quot;hljs-keyword&quot;&gt;return page.getTextContent();
}).then(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;textContent) =&gt; {
    &lt;span class=&quot;hljs-comment&quot;&gt;// åˆ›å»ºæ–‡æœ¬å›¾å±‚div
    &lt;span class=&quot;hljs-keyword&quot;&gt;const textLayerDiv = &lt;span class=&quot;hljs-built_in&quot;&gt;document.createElement(&lt;span class=&quot;hljs-string&quot;&gt;&apos;div&apos;);
    textLayerDiv.setAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&apos;class&apos;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;textLayer&apos;);
    &lt;span class=&quot;hljs-comment&quot;&gt;// å°†æ–‡æœ¬å›¾å±‚divæ·»åŠ è‡³æ¯é¡µpdfçš„divä¸­
    pageDiv.appendChild(textLayerDiv);

    &lt;span class=&quot;hljs-comment&quot;&gt;// åˆ›å»ºæ–°çš„TextLayerBuilderå®ä¾‹
    &lt;span class=&quot;hljs-keyword&quot;&gt;var textLayer = &lt;span class=&quot;hljs-keyword&quot;&gt;new TextLayerBuilder({
        &lt;span class=&quot;hljs-attr&quot;&gt;textLayerDiv: textLayerDiv,
        &lt;span class=&quot;hljs-attr&quot;&gt;pageIndex: page.pageIndex,
        &lt;span class=&quot;hljs-attr&quot;&gt;viewport: viewport
    });

    textLayer.setTextContent(textContent);

    textLayer.render();
});&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;```
</code></pre><p>æˆ‘ä»¬ä¾æ—§æ¥è®²è§£ä»¥ä¸‹ç”¨åˆ°çš„å‡ ä¸ªå…³é”®å‡½æ•°ï¼š</p>
<p><code>page.render()</code>ï¼šè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå½“PDFé¡µé¢æˆåŠŸæ¸²æŸ“åˆ°ç•Œé¢ä¸Šæ—¶è§£æçš„<code>promise</code>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆåŠŸå›è°ƒæ¥æ¸²æŸ“æ–‡æœ¬å›¾å±‚ã€‚</p>
<p><code>page.getTextContent()</code>ï¼šè¯¥å‡½æ•°çš„æˆåŠŸå›è°ƒä¼šè¿”å›PDFé¡µé¢ä¸Šçš„æ–‡æœ¬ç‰‡æ®µã€‚</p>
<p><code>TextLayerBuilder</code>ï¼šè¯¥ç±»çš„å®ä¾‹æœ‰ä¸¤ä¸ªé‡è¦çš„æ–¹æ³•ã€‚<code>setTextContent()</code>ç”¨äºè®¾ç½®<code>page.getTextContent()</code>å‡½æ•°è¿”å›çš„æ–‡æœ¬ç‰‡æ®µï¼›<code>render()</code>ç”¨äºæ¸²æŸ“æ–‡æœ¬å›¾å±‚ã€‚</p>
<blockquote>
<p>BingoğŸ˜ï¼é€šè¿‡ä»¥ä¸Šæ”¹é€ ï¼Œæ–‡æœ¬å¤åˆ¶åŠŸèƒ½å°±å®ç°äº†ã€‚å®˜æ–¹æ–‡æ¡£ä¸Šå¯æ²¡æœ‰è¿™ä¸ªå°æŠ€å·§å“¦ã€‚</p>
</blockquote>
<p>PDF.jsæ˜¯ä¸€ä¸ªå¾ˆæ£’çš„å·¥å…·ï¼Œä½†æ— å¥ˆæ–‡æ¡£å†™çš„è¾ƒä¸ºç²¾ç®€ï¼Œéœ€è¦å¼€å‘äººå‘˜ä¸æ–­æ¢ç´¢PDF.jsçš„å¼ºå¤§åŠŸèƒ½ã€‚</p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©åˆ°æ‚¨ï¼Œè®°å¾—ç‚¹èµå’¯ğŸ‘ï¼<br></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/67684c56.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/67684c56.html" itemprop="url">è¶…è¯¦ç»†åŠ¨æ‰‹æ­å»ºä¸€ä¸ªVuepressç«™ç‚¹åŠå¼€å¯PWAä¸è‡ªåŠ¨éƒ¨ç½²</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-29T17:29:00+08:00">
                2019-01-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="article"><br><div class="show-content" data-note-content=""><br><div class="show-content-free"><br><br># è¶…è¯¦ç»†åŠ¨æ‰‹æ­å»ºä¸€ä¸ªVuepressç«™ç‚¹åŠå¼€å¯PWAä¸è‡ªåŠ¨éƒ¨ç½²<br><br>&gt; äº”ä¸€ä¹‹å‰å°±æƒ³å†™ä¸€ç¯‡å…³äºVuepressçš„æ–‡ç« ,ç»“æœæœ‹å‹ç»“å©šå°±ä¸äº†äº†ä¹‹äº†ã€‚<br>&gt;<br>&gt; è®°å¾—æœ€åä¸€å®šè¦çœ‹æ³¨æ„äº‹é¡¹ï¼<br><br>## Vuepressä»‹ç»<br><br>å®˜ç½‘ï¼š<a href="https://link.jianshu.com?t=https%3A%2F%2Fvuepress.vuejs.org%2F" target="_blank" rel="noopener">https://vuepress.vuejs.org/</a><br><br>ç±»ä¼¼hexoä¸€ä¸ªæç®€çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨,ç”¨æ¥å†™æŠ€æœ¯æ–‡æ¡£ä¸èƒ½åœ¨çˆ½ã€‚å½“ç„¶æ­å»ºæˆåšå®¢ä¹Ÿä¸æˆé—®é¢˜ã€‚<br><br>## Vuepressç‰¹ç‚¹<br><br><em>   å“åº”å¼,ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸»é¢˜ä¸hexoç±»ä¼¼
</em>   å†…ç½®markdown(è¿˜å¢åŠ äº†ä¸€äº›æ‰©å±•),å¹¶ä¸”å¯ä»¥åœ¨å…¶ä½¿ç”¨Vueç»„ä»¶<br><em>   Google Analytics é›†æˆ
</em>   PWA è‡ªåŠ¨ç”ŸæˆService Worker<br><br>## å¿«é€Ÿä¸Šæ‰‹<br><br>### å®‰è£…<br><br>åˆå§‹åŒ–é¡¹ç›®<br><br><code class="shell">yarn init -y<br>    <span class="hljs-meta">#<span class="bash"> æˆ–è€… npm init -y<br>    </span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å®‰è£…vuepress</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;hljs shell&quot;&gt;&lt;code class=&quot;shell&quot;&gt;yarn add -D vuepress</span><br><span class="line">    &lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;bash&quot;&gt; æˆ–è€… npm install -D vuepress</span><br><span class="line">    &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>å…¨å±€å®‰è£…vuepress<br><br>    <pre class="hljs shell"><code class="shell">yarn global add vuepress<br>    <span class="hljs-meta">#<span class="bash"> æˆ–è€… npm install -g vuepress<br>    </span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æ–°å»ºä¸€ä¸ªdocsæ–‡ä»¶å¤¹</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;hljs shell&quot;&gt;&lt;code class=&quot;shell&quot;&gt;mkdir docs</span><br><span class="line">    &lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>è®¾ç½®ä¸‹package.json<br><br>    <pre class="hljs shell"><code class="shell">{<br>      â€œscriptsâ€: {<br>        â€œdocs:devâ€: â€œvuepress dev docsâ€,<br>        â€œdocs:buildâ€: â€œvuepress build docsâ€<br>      }<br>    }<br>    </code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### å†™ä½œ</span><br><span class="line"></span><br><span class="line">&lt;pre class=&quot;hljs shell&quot;&gt;&lt;code class=&quot;shell&quot;&gt;yarn docs:dev # æˆ–è€…ï¼šnpm run docs:dev</span><br><span class="line">&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>ä¹Ÿå°±æ˜¯è¿è¡Œå¼€å‘ç¯å¢ƒ,ç›´æ¥å»docsæ–‡ä»¶ä¸‹ä¹¦å†™æ–‡ç« å°±å¯ä»¥,æ‰“å¼€<a href="https://link.jianshu.com?t=http%3A%2F%2Flocalhost%3A8080%2F" target="_blank" rel="noopener">http://localhost:8080/</a>å¯ä»¥é¢„è§ˆ<br><br>    <div class="image-package"><br>    <div class="image-container"><br>    <div class="image-container-fill"><br>    <div class="image-view" data-width="745" data-height="401"><img src="http://pangguoming.com/blog/images/ac55f2b0-6e8e-4d8d-8e2e-7dd1554cab89.jpg" alt=""><br><br>    <div class="image-caption">image<br><br>    ### æ„å»º<br><br>buildç”Ÿæˆé™æ€çš„HTMLæ–‡ä»¶,é»˜è®¤ä¼šåœ¨ <code>.vuepress/dist</code> æ–‡ä»¶å¤¹ä¸‹<br><br>    <pre class="hljs shell"><code class="shell">yarn docs:build # æˆ–è€…ï¼šnpm run docs:build<br>    </code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    ## åŸºæœ¬é…ç½®</span><br><span class="line"></span><br><span class="line">åœ¨ `.vuepress`ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª`config.js`,ä»–å¯¼å‡ºä¸€ä¸ªå¯¹è±¡</span><br><span class="line"></span><br><span class="line">ä¸€äº›é…ç½®å¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://link.jianshu.com?t=https%3A%2F%2Fvuepress.vuejs.org%2Fconfig%2F%23base),è¿™é‡Œæˆ‘é…ç½®å¸¸ç”¨åŠå¿…é¡»é…ç½®çš„</span><br><span class="line"></span><br><span class="line">    ### ç½‘ç«™ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;hljs javascript&quot;&gt;&lt;code class=&quot;javascript&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;module.exports = &#123;</span><br><span class="line">      &lt;span class=&quot;hljs-attr&quot;&gt;title: &lt;span class=&quot;hljs-string&quot;&gt;&apos;æ¸¸é­‚çš„æ–‡æ¡£&apos;,</span><br><span class="line">      &lt;span class=&quot;hljs-attr&quot;&gt;description: &lt;span class=&quot;hljs-string&quot;&gt;&apos;Document library&apos;,</span><br><span class="line">      &lt;span class=&quot;hljs-attr&quot;&gt;head: [</span><br><span class="line">        [&lt;span class=&quot;hljs-string&quot;&gt;&apos;link&apos;, &#123; &lt;span class=&quot;hljs-attr&quot;&gt;rel: &lt;span class=&quot;hljs-string&quot;&gt;&apos;icon&apos;, &lt;span class=&quot;hljs-attr&quot;&gt;href: &lt;span class=&quot;hljs-string&quot;&gt;`/favicon.ico` &#125;],</span><br><span class="line">      ],</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>    ### å¯¼èˆªæ é…ç½®<br><br>    <pre class="hljs javascript"><code class="javascript"><span class="hljs-built_in">module.exports = {<br>      <span class="hljs-attr">themeConfig: {<br>        <span class="hljs-attr">nav: [<br>          { <span class="hljs-attr">text: <span class="hljs-string">â€˜ä¸»é¡µâ€™, <span class="hljs-attr">link: <span class="hljs-string">â€˜/â€˜ },<br>          { <span class="hljs-attr">text: <span class="hljs-string">â€˜å‰ç«¯è§„èŒƒâ€™, <span class="hljs-attr">link: <span class="hljs-string">â€˜/frontEnd/â€˜ },<br>          { <span class="hljs-attr">text: <span class="hljs-string">â€˜å¼€å‘ç¯å¢ƒâ€™, <span class="hljs-attr">link: <span class="hljs-string">â€˜/development/â€˜ },<br>          { <span class="hljs-attr">text: <span class="hljs-string">â€˜å­¦ä¹ æ–‡æ¡£â€™, <span class="hljs-attr">link: <span class="hljs-string">â€˜/notes/â€˜ },<br>          { <span class="hljs-attr">text: <span class="hljs-string">â€˜æ¸¸é­‚åšå®¢â€™, <span class="hljs-attr">link: <span class="hljs-string">â€˜<a href="https://www.iyouhun.com&#39;" target="_blank" rel="noopener">https://www.iyouhun.com&#39;</a> },<br>          <span class="hljs-comment">// ä¸‹æ‹‰åˆ—è¡¨çš„é…ç½®<br>          {<br>            <span class="hljs-attr">text: <span class="hljs-string">â€˜Languagesâ€™,<br>            <span class="hljs-attr">items: [<br>              { <span class="hljs-attr">text: <span class="hljs-string">â€˜Chineseâ€™, <span class="hljs-attr">link: <span class="hljs-string">â€˜/language/chineseâ€™ },<br>              { <span class="hljs-attr">text: <span class="hljs-string">â€˜Englishâ€™, <span class="hljs-attr">link: <span class="hljs-string">â€˜/language/Englishâ€™ }<br>            ]<br>          }<br>        ]<br>      }<br>    }<br>    </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¦‚å›¾ï¼š</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;image-package&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;image-container&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;image-container-fill&quot;&gt;Â </span><br><span class="line">    &lt;div class=&quot;image-view&quot; data-width=&quot;556&quot; data-height=&quot;83&quot;&gt;![](http://pangguoming.com/blog/images/d0397c5a-09c6-4d33-bdd8-fd95ecb6d468.jpg)</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;image-caption&quot;&gt;image</span><br><span class="line"></span><br><span class="line">    ### ä¾§è¾¹æ é…ç½®</span><br><span class="line"></span><br><span class="line">å¯ä»¥çœç•¥`.md`æ‰©å±•å,åŒæ—¶ä»¥ `/` ç»“å°¾çš„è·¯å¾„å°†ä¼šè¢«è§†ä¸º `*/README.md`</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;hljs javascript&quot;&gt;&lt;code class=&quot;javascript&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;module.exports = &#123;</span><br><span class="line">      &lt;span class=&quot;hljs-attr&quot;&gt;themeConfig: &#123;</span><br><span class="line">        &lt;span class=&quot;hljs-attr&quot;&gt;sidebar: &#123;</span><br><span class="line">          &lt;span class=&quot;hljs-string&quot;&gt;&apos;/frontEnd/&apos;: genSidebarConfig(&lt;span class=&quot;hljs-string&quot;&gt;&apos;å‰ç«¯å¼€å‘è§„èŒƒ&apos;),</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>ä¸Šé¢å°è£…çš„<code>genSidebarConfig</code>å‡½æ•°<br><br>    <pre class="hljs javascript"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">genSidebarConfig(<span class="hljs-params">title) {<br>      <span class="hljs-keyword">return [{<br>        title,<br>        <span class="hljs-attr">collapsable: <span class="hljs-literal">false,<br>        <span class="hljs-attr">children: [<br>          <span class="hljs-string">â€˜â€™,<br>          <span class="hljs-string">â€˜html-standardâ€™,<br>          <span class="hljs-string">â€˜css-standardâ€™,<br>          <span class="hljs-string">â€˜js-standardâ€™,<br>          <span class="hljs-string">â€˜git-standardâ€™<br>        ]<br>      }]<br>    }<br>    </span></span></span></span></span></span></span></span></span></span></span></span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æ”¯æŒä¾§è¾¹æ åˆ†ç»„(å¯ä»¥ç”¨æ¥åšåšå®¢æ–‡ç« åˆ†ç±») collapsableæ˜¯å½“å‰åˆ†ç»„æ˜¯å¦å±•å¼€</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;hljs javascript&quot;&gt;&lt;code class=&quot;javascript&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;module.exports = &#123;</span><br><span class="line">      &lt;span class=&quot;hljs-attr&quot;&gt;themeConfig: &#123;</span><br><span class="line">        &lt;span class=&quot;hljs-attr&quot;&gt;sidebar: &#123;</span><br><span class="line">          &lt;span class=&quot;hljs-string&quot;&gt;&apos;/note&apos;: [</span><br><span class="line">            &#123;</span><br><span class="line">              &lt;span class=&quot;hljs-attr&quot;&gt;title:&lt;span class=&quot;hljs-string&quot;&gt;&apos;å‰ç«¯&apos;,</span><br><span class="line">              &lt;span class=&quot;hljs-attr&quot;&gt;collapsable: &lt;span class=&quot;hljs-literal&quot;&gt;true,</span><br><span class="line">              &lt;span class=&quot;hljs-attr&quot;&gt;children:[</span><br><span class="line">                &lt;span class=&quot;hljs-string&quot;&gt;&apos;/notes/frontEnd/VueJSç»„ä»¶ç¼–ç è§„èŒƒ&apos;,</span><br><span class="line">                &lt;span class=&quot;hljs-string&quot;&gt;&apos;/notes/frontEnd/vue-cliè„šæ‰‹æ¶å¿«é€Ÿæ­å»ºé¡¹ç›®&apos;,</span><br><span class="line">                &lt;span class=&quot;hljs-string&quot;&gt;&apos;/notes/frontEnd/æ·±å…¥ç†è§£vueä¸­çš„slotä¸slot-scope&apos;,</span><br><span class="line">                &lt;span class=&quot;hljs-string&quot;&gt;&apos;/notes/frontEnd/webpackå…¥é—¨&apos;,</span><br><span class="line">                &lt;span class=&quot;hljs-string&quot;&gt;&apos;/notes/frontEnd/PWAä»‹ç»åŠå¿«é€Ÿä¸Šæ‰‹æ­å»ºä¸€ä¸ªPWAåº”ç”¨&apos;,</span><br><span class="line">              ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              &lt;span class=&quot;hljs-attr&quot;&gt;title:&lt;span class=&quot;hljs-string&quot;&gt;&apos;åç«¯&apos;,</span><br><span class="line">              &lt;span class=&quot;hljs-attr&quot;&gt;collapsable: &lt;span class=&quot;hljs-literal&quot;&gt;true,</span><br><span class="line">              &lt;span class=&quot;hljs-attr&quot;&gt;children:[</span><br><span class="line">                &lt;span class=&quot;hljs-string&quot;&gt;&apos;notes/backEnd/nginxå…¥é—¨&apos;,</span><br><span class="line">                &lt;span class=&quot;hljs-string&quot;&gt;&apos;notes/backEnd/CentOSå¦‚ä½•æŒ‚è½½ç£ç›˜&apos;,</span><br><span class="line">              ]</span><br><span class="line">            &#125;,</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>å¦‚å›¾ï¼š<br><br>    <div class="image-package"><br>    <div class="image-container"><br>    <div class="image-container-fill"><br>    <div class="image-view" data-width="538" data-height="334"><img src="http://pangguoming.com/blog/images/ac3b62fa-e48a-4211-9870-be131972bd55.jpg" alt=""><br><br>    <div class="image-caption">æˆå“å›¾<br><br>    ## é»˜è®¤ä¸»é¢˜ä¿®æ”¹<br><br>    ### ä¸»é¢˜è‰²ä¿®æ”¹<br><br>åœ¨<code>.vuepress</code>ç›®å½•ä¸‹çš„åˆ›å»ºä¸€ä¸ª<code>override.styl</code>æ–‡ä»¶<br><br>    <pre class="hljs css"><code class="css">$<span class="hljs-selector-tag">accentColor = <span class="hljs-selector-id">#3eaf7c // ä¸»é¢˜è‰²<br>    $<span class="hljs-selector-tag">textColor = <span class="hljs-selector-id">#2c3e50 // æ–‡å­—é¢œè‰²<br>    $<span class="hljs-selector-tag">borderColor = <span class="hljs-selector-id">#eaecef // è¾¹æ¡†é¢œè‰²<br>    $<span class="hljs-selector-tag">codeBgColor = <span class="hljs-selector-id">#282c34 // ä»£ç èƒŒæ™¯é¢œè‰²<br>    </span></span></span></span></span></span></span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    ### è‡ªå®šä¹‰é¡µé¢ç±»</span><br><span class="line"></span><br><span class="line">æœ‰æ—¶éœ€è¦åœ¨ä¸åŒçš„é¡µé¢åº”ç”¨ä¸åŒçš„css,å¯ä»¥å…ˆåœ¨è¯¥é¡µé¢ä¸­å£°æ˜</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;hljs yaml&quot;&gt;&lt;code class=&quot;yaml&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;---</span><br><span class="line">    &lt;span class=&quot;hljs-attr&quot;&gt;pageClass: &lt;span class=&quot;hljs-string&quot;&gt;custom-page-class</span><br><span class="line">    &lt;span class=&quot;hljs-meta&quot;&gt;---</span><br><span class="line">    &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>ç„¶ååœ¨<code>override.styl</code>ä¸­ä¹¦å†™<br><br>    <pre class="hljs css"><code class="css"><span class="hljs-selector-class">.theme-container<span class="hljs-selector-class">.custom-page-class {<br>      <span class="hljs-comment">/<em> ç‰¹å®šé¡µé¢çš„ CSS </em>/<br>    }<br>    </span></span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    ## PWAè®¾ç½®</span><br><span class="line"></span><br><span class="line">è®¾ç½®serviceWorkerä¸ºtrue,ç„¶åæä¾›Manifest å’Œ icons,å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„ã€Š[PWAä»‹ç»åŠå¿«é€Ÿä¸Šæ‰‹æ­å»ºä¸€ä¸ªPWAåº”ç”¨](https://www.jianshu.com/p/fad8aa9e277f)ã€‹</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;hljs javascript&quot;&gt;&lt;code class=&quot;javascript&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;module.exports = &#123;</span><br><span class="line">      &lt;span class=&quot;hljs-attr&quot;&gt;head: [</span><br><span class="line">        [&lt;span class=&quot;hljs-string&quot;&gt;&apos;link&apos;, &#123; &lt;span class=&quot;hljs-attr&quot;&gt;rel: &lt;span class=&quot;hljs-string&quot;&gt;&apos;icon&apos;, &lt;span class=&quot;hljs-attr&quot;&gt;href: &lt;span class=&quot;hljs-string&quot;&gt;`/favicon.ico` &#125;],</span><br><span class="line">        &lt;span class=&quot;hljs-comment&quot;&gt;//å¢åŠ manifest.json</span><br><span class="line">        [&lt;span class=&quot;hljs-string&quot;&gt;&apos;link&apos;, &#123; &lt;span class=&quot;hljs-attr&quot;&gt;rel: &lt;span class=&quot;hljs-string&quot;&gt;&apos;manifest&apos;, &lt;span class=&quot;hljs-attr&quot;&gt;href: &lt;span class=&quot;hljs-string&quot;&gt;&apos;/manifest.json&apos; &#125;],</span><br><span class="line">      ],</span><br><span class="line">      &lt;span class=&quot;hljs-attr&quot;&gt;serviceWorker: &lt;span class=&quot;hljs-literal&quot;&gt;true,</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>    ## éƒ¨ç½²ä¸Šçº¿<br><br>    ### è®¾ç½®åŸºç¡€è·¯å¾„<br><br>åœ¨<code>config.js</code>è®¾ç½®base<br> ä¾‹å¦‚ï¼šä½ æƒ³è¦éƒ¨ç½²åœ¨<a href="https://link.jianshu.com?t=https%3A%2F%2Ffoo.github.io" target="_blank" rel="noopener">https://foo.github.io</a> é‚£ä¹ˆè®¾ç½®baseä¸º<code>/</code>,baseé»˜è®¤å°±ä¸º<code>/</code>,æ‰€ä»¥å¯ä»¥ä¸ç”¨è®¾ç½®<br> æƒ³è¦éƒ¨ç½²åœ¨<a href="https://link.jianshu.com?t=https%3A%2F%2Ffoo.github.io%2Fbar%2F" target="_blank" rel="noopener">https://foo.github.io/bar/</a>,é‚£ä¹ˆ <code>base</code> åº”è¯¥è¢«è®¾ç½®æˆ <code>&quot;/bar/&quot;</code><br><br>    <pre class="hljs javascript"><code class="javascript"><span class="hljs-built_in">module.exports = {<br>      <span class="hljs-attr">base: <span class="hljs-string">â€˜/documents/â€˜,<br>    }<br>    </span></span></span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`base` å°†ä¼šè‡ªåŠ¨åœ°ä½œä¸ºå‰ç¼€æ’å…¥åˆ°æ‰€æœ‰ä»¥ `/` å¼€å§‹çš„å…¶ä»–é€‰é¡¹çš„é“¾æ¥ä¸­,æ‰€ä»¥ä½ åªéœ€è¦æŒ‡å®šä¸€æ¬¡ã€‚</span><br><span class="line"></span><br><span class="line">    ### æ„å»ºä¸è‡ªåŠ¨éƒ¨ç½²</span><br><span class="line"></span><br><span class="line">ç”¨[gitHub](https://link.jianshu.com?t=https%3A%2F%2Fgithub.com)çš„pagesæˆ–è€…[coding](https://link.jianshu.com?t=https%3A%2F%2Fcoding.net%2Fr%2FO5YOFA)çš„pageséƒ½å¯ä»¥,ä¹Ÿå¯ä»¥æ­å»ºåœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šã€‚  </span><br><span class="line"> å°†`dist`æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹æäº¤åˆ°gitä¸Šæˆ–è€…ä¸Šä¼ åˆ°æœåŠ¡å™¨å°±å¥½</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;hljs shell&quot;&gt;&lt;code class=&quot;shell&quot;&gt;yarn docs:build # æˆ–è€…ï¼šnpm run docs:build</span><br><span class="line">    &lt;/code&gt;</span><br></pre></td></tr></table></figure><br><br>&gt; å¦å¤–å¯ä»¥å¼„ä¸€ä¸ªè„šæœ¬,è®¾ç½®æŒç»­é›†æˆ,åœ¨æ¯æ¬¡ push ä»£ç æ—¶è‡ªåŠ¨è¿è¡Œè„šæœ¬<br><br>deploy.sh<br><br>    <pre class="hljs bash"><code class="bash"><span class="hljs-meta">#!/usr/bin/env sh<br><br>    <span class="hljs-comment"># ç¡®ä¿è„šæœ¬æŠ›å‡ºé‡åˆ°çš„é”™è¯¯<br>    <span class="hljs-built_in">set -e<br><br>    <span class="hljs-comment"># ç”Ÿæˆé™æ€æ–‡ä»¶<br>    npm run docs:build<br><br>    <span class="hljs-comment"># è¿›å…¥ç”Ÿæˆçš„æ–‡ä»¶å¤¹<br>    <span class="hljs-built_in">cd docs/.vuepress/dist<br><br>    <span class="hljs-comment"># å¦‚æœæ˜¯å‘å¸ƒåˆ°è‡ªå®šä¹‰åŸŸå<br>    <span class="hljs-comment"># echo â€˜<a href="http://www.example.com&#39;" target="_blank" rel="noopener">www.example.com&#39;</a> &gt; CNAME<br><br>    git init<br>    git add -A<br>    git commit -m <span class="hljs-string">â€˜deployâ€™<br><br>    <span class="hljs-comment"># å¦‚æœå‘å¸ƒåˆ° https://<username>.github.io<br>    <span class="hljs-comment"># git push -f <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:<username>/<username>.github.io.git master<br><br>    <span class="hljs-comment"># å¦‚æœå‘å¸ƒåˆ° https://<username>.github.io/<repo><br>    git push -f <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:<username>/<repo>.git master:gh-pages<br><br>    <span class="hljs-built_in">cd -<br>    </span></repo></username></repo></username></span></username></username></span></username></span></span></span></span></span></span></span></span></span></span></code><code>`</code><br><br>    ## æ³¨æ„äº‹é¡¹(å‘)<br><br>    <em>   æŠŠä½ æƒ³å¼•ç”¨çš„èµ„æºéƒ½æ”¾åœ¨<code>.vuepress</code>ç›®å½•ä¸‹çš„<code>public</code>æ–‡ä»¶å¤¹
    </em>   ç»™gitä»“åº“ç»‘å®šäº†ç‹¬ç«‹åŸŸåå,è®°å¾—ä¿®æ”¹<code>base</code>è·¯å¾„<br>    <em>   è®¾ç½®ä¾§è¾¹æ åˆ†ç»„åé»˜è®¤ä¼šè‡ªåŠ¨ç”Ÿæˆ ä¸Š/ä¸‹ä¸€ç¯‡é“¾æ¥
    </em>   è®¾ç½®äº†è‡ªåŠ¨ç”Ÿæˆä¾§è¾¹æ ä¼šæŠŠä¾§è¾¹æ åˆ†ç»„è¦†ç›–æ‰<br>    *   è®¾ç½®PWAè®°å¾—å¼€å¯SSL<br><br>    <div id="free-reward-panel" class="support-author"><br><br>    </div></pre></pre></pre></pre></div></div></div></div></div></pre></pre></pre></div></div></div></div></div></pre></pre></div></div></div><br>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/a210281e.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/a210281e.html" itemprop="url">PPTPæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ ä¿®æ”¹é»˜è®¤PPTPé»˜è®¤ç«¯å£1723</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-26T11:59:00+08:00">
                2019-01-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>linux pptpæœåŠ¡ç«¯ï¼š<br>æˆ‘ä»¬åœ¨Linuxä¸‹å»ºç«‹çš„pptpdç«¯å£å·é»˜è®¤æ˜¯1723ï¼Œæœ‰æ—¶å€™è¿™ä¸ªç«¯å£å¹¶ä¸æ˜¯é‚£ä¹ˆçš„å¥½ç”¨ï¼Œä¸æ˜¯éº½?<br>æ‰€ä»¥æœåŠ¡ç«¯ä¿®æ”¹ç«¯å£å·æ¯”è¾ƒç®€å•</p>
<p>ä¿®æ”¹ /etc/services æ–‡ä»¶<br>æŸ¥æ‰¾ 1723,ç„¶åå°†å…¶ä¿®æ”¹ä¸ºä½ æƒ³ä¿®æ”¹çš„æ•°å€¼,é‡å¯ pptpdå³å¯.</p>
<p>Windows PPTPå®¢æˆ·ç«¯ï¼š</p>
<p>1ã€æ‰¾åˆ° C:\WINDOWS\system32\drivers\etcï¼Œä¿®æ”¹<a href="https://www.baidu.com/s?wd=services&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" target="_blank" rel="noopener">services</a>æ–‡ä»¶ï¼Œä¿®æ”¹é‡Œé¢çš„VPNï¼ˆPPTPï¼‰ç«¯å£1723ä¸ºä½ è®¾å®šçš„ç«¯å£</p>
<p>2ã€ç³»ç»Ÿè‡ªå¸¦çš„ä¸œè¥¿ï¼Œä¿®æ”¹é…ç½®å‚æ•°å½“ç„¶å°±å¾—è¿›æ³¨å†Œè¡¨äº†ã€‚è¿›å…¥<code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Class\{4D36E972-E325-11CE- BFC1-08002bE10318}</code>é¡¹ï¼Œå…¶ä¸­æœ‰ç±»ä¼¼0000ã€0001ã€0002â€¦â€¦è¿™æ ·çš„å­é¡¹ï¼Œæ¯ä¸ªå­é¡¹éƒ½å¯¹åº”ä¸€ä¸ªç½‘<a href="https://www.baidu.com/s?wd=%E9%80%82%E9%85%8D%E5%99%A8&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" target="_blank" rel="noopener">é€‚é…å™¨</a>çš„é…ç½®ã€‚é€ä¸€æ‰“å¼€è¿™äº›å­é¡¹ï¼Œæ‰¾åˆ°å…¶ä¸­å­—æ®µ<code>DriverDesc</code>å€¼ä¸º<code>WAN Miniport (PPTP)</code>çš„å­é¡¹ï¼Œä¾‹å¦‚æˆ‘æ‰¾åˆ°çš„æ˜¯<code>0003</code>ã€‚åœ¨è¿™ä¸ªå­é¡¹é‡Œçš„<code>TcpPortNumber</code>çš„å€¼å°±æ˜¯pptp vpnæ‰€ä½¿ç”¨çš„ç«¯å£ï¼ŒåŒå‡»ä¿®æ”¹å…¶å€¼ï¼Œé€‰æ‹©åŸºæ•°ä¸ºåè¿›åˆ¶ï¼Œä¿®æ”¹æˆæ‰€éœ€è¦çš„å€¼ç¡®è®¤å³å¯ã€‚é‡å¯æœºå™¨åï¼Œä¿®æ”¹ç”Ÿæ•ˆã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/4b16a513.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/4b16a513.html" itemprop="url">centos7é˜²ç«å¢™iptableså¼€æ”¾å¸¸ç”¨ç«¯å£</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-26T11:57:00+08:00">
                2019-01-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>æ¸…é™¤æ‰€æœ‰è§„åˆ™ï¼š</li>
</ol>
<p><code class="hljs nginx"><span class="hljs-attribute">iptables  -F</span></code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2.  å¼€æ”¾å¸¸ç”¨tcpç«¯å£ï¼š</span><br><span class="line">&lt;pre&gt;&lt;code class=&quot;hljs css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;iptables  &lt;span class=&quot;hljs-selector-tag&quot;&gt;-I  &lt;span class=&quot;hljs-selector-tag&quot;&gt;INPUT  &lt;span class=&quot;hljs-selector-tag&quot;&gt;-p  &lt;span class=&quot;hljs-selector-tag&quot;&gt;tcp  &lt;span class=&quot;hljs-selector-tag&quot;&gt;-m  &lt;span class=&quot;hljs-selector-tag&quot;&gt;multiport  &lt;span class=&quot;hljs-selector-tag&quot;&gt;--dports 20,21,22,3690,80,443,4443,8023,8888,25,110,30000&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:30999  &lt;span class=&quot;hljs-selector-tag&quot;&gt;-j  &lt;span class=&quot;hljs-selector-tag&quot;&gt;ACCEPT</span><br><span class="line">&lt;span class=&quot;hljs-selector-tag&quot;&gt;iptables  &lt;span class=&quot;hljs-selector-tag&quot;&gt;-I  &lt;span class=&quot;hljs-selector-tag&quot;&gt;OUTPUT  &lt;span class=&quot;hljs-selector-tag&quot;&gt;-p  &lt;span class=&quot;hljs-selector-tag&quot;&gt;tcp  &lt;span class=&quot;hljs-selector-tag&quot;&gt;-m  &lt;span class=&quot;hljs-selector-tag&quot;&gt;multiport  &lt;span class=&quot;hljs-selector-tag&quot;&gt;--sports 20,21,22,3690,80,443,4443,8023,8888,25,110,30000&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:30999  &lt;span class=&quot;hljs-selector-tag&quot;&gt;-j  &lt;span class=&quot;hljs-selector-tag&quot;&gt;ACCEPT&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure></p>
<pre><code>3.  å¼€æ”¾å¸¸ç”¨udpç«¯å£ï¼š
&lt;pre&gt;&lt;code class=&quot;hljs sql&quot;&gt;iptables  -I  INPUT  -p  udp  -m  multiport  &lt;span class=&quot;hljs-comment&quot;&gt;--dports  53,123,8571,8888  -j  ACCEPT
iptables  -I  OUTPUT  -p  udp  -m  multiport  &lt;span class=&quot;hljs-comment&quot;&gt;--sports  53,123,8571,8888  -j  ACCEPT&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4.  å¼€æ”¾ç‰¹æ®Šudpç«¯å£ï¼ˆå¦‚ï¼šdnsï¼‰ï¼š</span><br><span class="line">&lt;pre&gt;&lt;code class=&quot;hljs sql&quot;&gt;iptables  -I  INPUT  -p  udp  &lt;span class=&quot;hljs-comment&quot;&gt;--sport  53  -j  ACCEPT</span><br><span class="line">iptables  -I  OUTPUT  -p  udp  &lt;span class=&quot;hljs-comment&quot;&gt;--dport  53  -j  ACCEPT&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>

5.  å¼€æ”¾vrrpåè®®ï¼š
&lt;pre&gt;&lt;code class=&quot;hljs nginx&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;iptables  -I  INPUT  -p  vrrp  -j  ACCEPT&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">6.  å…è®¸æœåŠ¡å™¨äº’pingï¼š</span><br><span class="line">&lt;pre&gt;&lt;code class=&quot;hljs nginx&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;iptables  -A  OUTPUT  -p  icmp  -j  ACCEPT</span><br><span class="line">iptables  -A  INPUT  -p  icmp  -j  ACCEPT&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>

7.  å…è®¸æ¡æ‰‹æˆåŠŸçš„æ•°æ®é€šè¿‡ï¼š
&lt;pre&gt;&lt;code class=&quot;hljs perl&quot;&gt;iptables  -I  INPUT  -p  tcp  -&lt;span class=&quot;hljs-keyword&quot;&gt;m  &lt;span class=&quot;hljs-keyword&quot;&gt;state  --&lt;span class=&quot;hljs-keyword&quot;&gt;state  RELATED,ESTABLISHED  -j  ACCEPT
iptables  -I  OUTPUT  -p  tcp  -&lt;span class=&quot;hljs-keyword&quot;&gt;m  &lt;span class=&quot;hljs-keyword&quot;&gt;state  --&lt;span class=&quot;hljs-keyword&quot;&gt;state  RELATED,ESTABLISHED  -j  ACCEPT&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">8.  è®¾ç½®é»˜è®¤å…³é—­æ‰€æœ‰ç«¯å£ï¼š</span><br><span class="line">&lt;pre&gt;&lt;code class=&quot;hljs sql&quot;&gt;iptables  -P  FORWARD  &lt;span class=&quot;hljs-keyword&quot;&gt;DROP</span><br><span class="line">iptables  -P  &lt;span class=&quot;hljs-keyword&quot;&gt;OUTPUT  &lt;span class=&quot;hljs-keyword&quot;&gt;ACCEPT</span><br><span class="line">iptables  -P  &lt;span class=&quot;hljs-keyword&quot;&gt;INPUT  &lt;span class=&quot;hljs-keyword&quot;&gt;DROP&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>

9.  é˜²syn***ï¼š
&lt;pre&gt;&lt;code class=&quot;hljs sql&quot;&gt;iptables  -N  syn-flood 
iptables  -A  INPUT  -p  tcp  &lt;span class=&quot;hljs-comment&quot;&gt;--syn  -j  syn-flood 
iptables  -I  syn-flood  -p  tcp  -m  limit  &lt;span class=&quot;hljs-comment&quot;&gt;--limit  3/s  --limit-burst  6  -j  RETURN 
iptables  -A  syn-flood  -j  REJECT&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">10.  é˜²ddos***ï¼š</span><br><span class="line">&lt;pre&gt;&lt;code class=&quot;hljs sql&quot;&gt;iptables  -A  INPUT  -i  eth0  -p  tcp  &lt;span class=&quot;hljs-comment&quot;&gt;--syn  -m  connlimit  --connlimit-above  15 -j  DROP </span><br><span class="line">iptables  -A  INPUT  -p  tcp  -m  state  &lt;span class=&quot;hljs-comment&quot;&gt;--state  ESTABLISHED,RELATED  -j  ACCEPT</span><br><span class="line">iptables  -A  INPUT  -p  tcp  &lt;span class=&quot;hljs-comment&quot;&gt;--syn  -m  limit  --limit  12/s  --limit-burst  24  -j  ACCEPT</span><br><span class="line">iptables  -A  FORWARD  -p  tcp  &lt;span class=&quot;hljs-comment&quot;&gt;--syn  -m  limit  --limit  1/s  -j  ACCEPT&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>

11.  é˜²cc***ï¼š
&lt;pre&gt;&lt;code class=&quot;hljs cs&quot;&gt;iptables  -I  INPUT  -p  tcp  --dport  &lt;span class=&quot;hljs-number&quot;&gt;80  -m  connlimit  --connlimit-above  &lt;span class=&quot;hljs-number&quot;&gt;50  -j  REJECT  &lt;span class=&quot;hljs-meta&quot;&gt;# å…è®¸å•ä¸ªIPçš„æœ€å¤§è¿æ¥æ•°ä¸º30
iptables  -A  INPUT  -p  tcp  --dport  &lt;span class=&quot;hljs-number&quot;&gt;80  -m  recent  --name  BAD_HTTP_ACCESS  --update  --seconds  &lt;span class=&quot;hljs-number&quot;&gt;60  --hitcount  &lt;span class=&quot;hljs-number&quot;&gt;30  -j  REJECT
iptables  -A  INPUT  -p  tcp --dport  &lt;span class=&quot;hljs-number&quot;&gt;80  -m  recent  --name  BAD_HTTP_ACCESS  --&lt;span class=&quot;hljs-keyword&quot;&gt;set  -j  ACCEPT
&lt;span class=&quot;hljs-meta&quot;&gt;#å•ä¸ªIPåœ¨60ç§’å†…åªå…è®¸æœ€å¤šæ–°å»º30ä¸ªè¿æ¥&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">12.  ä¿å­˜ï¼š</span><br><span class="line">&lt;pre&gt;&lt;code class=&quot;hljs javascript&quot;&gt;iptables-save  &gt;  &lt;span class=&quot;hljs-regexp&quot;&gt;/etc/sysconfig/iptables&lt;/span&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>

&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/68a72078.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/68a72078.html" itemprop="url">PDF.js åˆ†ç‰‡ä¸‹è½½çš„ä»‹ç»2:åˆ†ç‰‡ä¸‹è½½demo</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-25T11:06:00+08:00">
                2019-01-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä¸Šä¸€ä¸ªç« èŠ‚ï¼Œç®€è¦è¯´äº†ä»¥ä¸‹åˆ†ç‰‡ä¸‹è½½çš„å‡ ä¸ªç‰¹æ€§ã€‚ä»Šå¤©ä¸»è¦ç”¨ç¤ºä¾‹è¯´æ˜ä¸€ä¸‹pdf.jsåˆ†ç‰‡ä¸‹è½½ã€‚</p>
<p>æœåŠ¡å™¨ç¯å¢ƒï¼š<br>php7.2<br>nginx 1.14<br>ubuntu 18.04<br>æµ‹è¯•æµè§ˆå™¨:è°·æ­Œæµè§ˆå™¨ 70.0.3538.110ï¼ˆ</p>
<p>ç¬¬ä¸€ä¸ªåœºæ™¯ï¼Œç›´æ¥ä½¿ç”¨pdf æ–‡ä»¶<br>1.1 ä»£ç å¦‚ä¸‹ï¼šæ³¨æ„è·¯å¾„ä½¿ç”¨çš„æ˜¯pdf æ–‡ä»¶çš„ç‰©ç†è·¯å¾„</p>
<p>$filePath = â€˜â€¦/doc/big.pdfâ€™;<br>è¿™é‡Œæ˜¯ä¸¾ä¾‹ï¼Œè¿™æ ·ä½œæœ‰ä¸€ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹ï¼Œå°±æ˜¯å®¹æ˜“è¢«ç›—é“¾<br>getDocument æ–¹æ³•ä¸­çš„ rangeChunkSize å‚æ•°ï¼Œå°±æ˜¯è®¾ç½®åˆ†å—å¤§å°ï¼Œé»˜è®¤æ˜¯64k,å¯ä»¥ä¿®æ”¹è¿™ä¸ªæ•°å­—ï¼Œæ¥æ”¹å˜<br>è¿™ä¸ªä¾‹å­ä½¿ç”¨çš„ 1664k ,1m å·¦å³æ¥åˆ†ç‰‡ï¼Œæ–¹ä¾¿æµ‹è¯•ã€‚æ‚¨å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µï¼Œæ¥è°ƒæ•´<br>PDFJS.getDocument({url:url,rangeChunkSize:6553616,disableAutoFetch:0}).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">        &lt;head&gt;&lt;title&gt;pdf.jså±•ç¤º1ï¼Œä¸Šä¸€é¡µï¼Œä¸‹ä¸€é¡µ&lt;/title&gt;&lt;/head&gt;</span><br><span class="line">        &lt;h1&gt;PDF.js Previous/Next example&lt;/h1&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;button id=&quot;prev&quot;&gt;Previous&lt;/button&gt;</span><br><span class="line">            &lt;button id=&quot;next&quot;&gt;Next&lt;/button&gt; Â  Â  &lt;span&gt;Page: &lt;span id=&quot;page_num&quot;&gt;&lt;/span&gt; / &lt;span</span><br><span class="line">                id=&quot;page_count&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">        &lt;canvas id=&quot;the-canvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script src=&quot;../js/pdfjs/pdf.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">        &lt;script src=&quot;../js/pdfjs/pdf.worker.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var url = &apos;../doc/big.pdf&apos;;</span><br><span class="line"></span><br><span class="line">            var pdfDoc = null,</span><br><span class="line">                pageNum = 1,</span><br><span class="line">                pageRendering = false,</span><br><span class="line">                pageNumPending = null,</span><br><span class="line">                scale = 0.8,</span><br><span class="line">                canvas = document.getElementById(&apos;the-canvas&apos;),</span><br><span class="line">                ctx = canvas.getContext(&apos;2d&apos;);</span><br><span class="line"></span><br><span class="line">            /**</span><br><span class="line">             * Get page info from document, resize canvas accordingly, and render page.</span><br><span class="line">             * @param num Page number.</span><br><span class="line">             */</span><br><span class="line">            function renderPage(num) &#123;</span><br><span class="line">                pageRendering = true;</span><br><span class="line">                // Using promise to fetch the page</span><br><span class="line">                pdfDoc.getPage(num).then(function (page) &#123;</span><br><span class="line">                    var viewport = page.getViewport(scale);</span><br><span class="line">                    canvas.height = viewport.height;</span><br><span class="line">                    canvas.width = viewport.width;</span><br><span class="line"></span><br><span class="line">                    // Render PDF page into canvas context</span><br><span class="line">                    var renderContext = &#123;</span><br><span class="line">                        canvasContext: ctx,</span><br><span class="line">                        viewport: viewport</span><br><span class="line">                    &#125;;</span><br><span class="line">                    var renderTask = page.render(renderContext);</span><br><span class="line"></span><br><span class="line">                    // Wait for rendering to finish</span><br><span class="line">                    renderTask.promise.then(function () &#123;</span><br><span class="line">                        pageRendering = false;</span><br><span class="line">                        if (pageNumPending !== null) &#123;</span><br><span class="line">                            // New page rendering is pending</span><br><span class="line">                            renderPage(pageNumPending);</span><br><span class="line">                            pageNumPending = null;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line">                // Update page counters</span><br><span class="line">                document.getElementById(&apos;page_num&apos;).textContent = num;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            /**</span><br><span class="line">             * If another page rendering in progress, waits until the rendering is</span><br><span class="line">             * finised. Otherwise, executes rendering immediately.</span><br><span class="line">             */</span><br><span class="line">            function queueRenderPage(num) &#123;</span><br><span class="line">                if (pageRendering) &#123;</span><br><span class="line">                    pageNumPending = num;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    renderPage(num);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            /**</span><br><span class="line">             * Displays previous page.</span><br><span class="line">             */</span><br><span class="line">            function onPrevPage() &#123;</span><br><span class="line">                if (pageNum &lt;= 1) &#123;</span><br><span class="line">                    return;</span><br><span class="line">                &#125;</span><br><span class="line">                pageNum--;</span><br><span class="line">                queueRenderPage(pageNum);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            document.getElementById(&apos;prev&apos;).addEventListener(&apos;click&apos;, onPrevPage);</span><br><span class="line"></span><br><span class="line">            /**</span><br><span class="line">             * Displays next page.</span><br><span class="line">             */</span><br><span class="line">            function onNextPage() &#123;</span><br><span class="line">                if (pageNum &gt;= pdfDoc.numPages) &#123;</span><br><span class="line">                    return;</span><br><span class="line">                &#125;</span><br><span class="line">                pageNum++;</span><br><span class="line">                queueRenderPage(pageNum);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            document.getElementById(&apos;next&apos;).addEventListener(&apos;click&apos;, onNextPage);</span><br><span class="line"></span><br><span class="line">            /**</span><br><span class="line">             * Asynchronously downloads PDF.</span><br><span class="line">             */</span><br><span class="line">            PDFJS.getDocument(&#123;url:url,rangeChunkSize:65536*16,disableAutoFetch:0&#125;).then(function(pdfDoc_) &#123;</span><br><span class="line">                pdfDoc = pdfDoc_;</span><br><span class="line">                document.getElementById(&apos;page_count&apos;).textContent = pdfDoc.numPages;</span><br><span class="line"></span><br><span class="line">                // Initial/first page rendering</span><br><span class="line">                renderPage(pageNum);</span><br><span class="line">            &#125;);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">        &lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>1.2ä»Šå¤©ç¬¬ä¸€åŠ è½½ï¼šå‘ç°æ²¡æœ‰å‡ºç°åˆ†ç‰‡æ•ˆæœã€‚å¦‚æœæ‚¨ä¹Ÿé‡åˆ°è¿™ç§æƒ…å†µï¼Œä¸è¦ç€æ€¥ï¼Œå¾ˆå¤§ç¨‹åº¦æ˜¯å› ä¸ºæµè§ˆå™¨ç¼“å­˜<br><img src="http://pangguoming.com/blog/images/7b42710a-05c9-425a-a027-0fe3760e4eac.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>1.3 åœ¨æµè§ˆå™¨ä¸­ï¼Œå®‰Ctrl+alt+delte é”®ï¼Œæ¸…é™¤ç¼“å­˜</p>
<p><img src="http://pangguoming.com/blog/images/1c2424d7-6f94-4539-b565-46bcccf6173c.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>1.4 æ¸…é™¤ç¼“å­˜åï¼Œå†æ¬¡åˆ·æ–°é¡µé¢ï¼Œå‘ç°åˆ†ç‰‡ä¸‹è½½åŠŸèƒ½å‡ºç°äº†ã€‚</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre class=&quot;brush:html;gutter:true;&quot;&gt;åå°ä»£ç </span><br><span class="line"></span><br><span class="line"> &lt;?php</span><br><span class="line">$filePath = &apos;../doc/big.pdf&apos;;</span><br><span class="line"></span><br><span class="line">//æ™®é€šçš„æ–¹å¼å¤„ç†åŒ…è£…pdfæ–‡ä»¶ </span><br><span class="line">download_file($filePath);</span><br><span class="line"></span><br><span class="line">function download_file($file, $fname = &apos;chunk.pdf&apos;)</span><br><span class="line">&#123;</span><br><span class="line">    header(&quot;Content-Type: application/octet-stream&quot;);</span><br><span class="line">    header(&quot;Content-Disposition: attachment;filename=$fname&quot;);</span><br><span class="line"></span><br><span class="line">    echo(file_get_contents($file));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><p> å‰å°js è°ƒç”¨ä»£ç </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre class=&quot;brush:html;gutter:true;&quot;&gt;  ã€‚ã€‚ã€‚ã€‚ã€‚</span><br><span class="line">    var url = &apos;download.php&apos;;</span><br><span class="line"></span><br><span class="line">    var pdfDoc = null,</span><br><span class="line">        pageNum = 1,</span><br><span class="line">        pageRendering = false,</span><br><span class="line">        pageNumPending = null,</span><br><span class="line">        scale = 0.8,</span><br><span class="line">        canvas = document.getElementById(&apos;the-canvas&apos;),</span><br><span class="line">        ctx = canvas.getContext(&apos;2d&apos;);</span><br><span class="line"></span><br><span class="line">ã€‚ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure>
</code></pre><p>2.2 ç»è¿‡æ¸…ç†ç¼“å­˜ï¼Œå‘ç°æ— æ³•è¾¾åˆ°åˆ†ç‰‡çš„æ•ˆæœã€‚<br><img src="http://pangguoming.com/blog/images/03c770a7-4826-40ba-a846-f31c95caf542.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<blockquote>
<p>åˆæ­¥æ€»ç»“å¦‚ä¸‹ï¼Œå¸¸è§„çš„é™„ä»¶å¤„ç†æ–¹å¼ï¼Œä¼šå½±å“åˆ†ç‰‡ä¸‹è½½çš„æ•ˆæœ</p>
</blockquote>
<pre><code>## åœºæ™¯3ï¼šä½¿ç”¨php ç»“åˆhttprange,å®ç°åˆ†ç‰‡çš„æ•ˆæœ
</code></pre><p>3.1 è¿™é‡Œæ˜¯ä»ç½‘ä¸Šæœé›†åˆ°çš„åˆ†ç‰‡ä¸‹è½½php å‡½æ•°</p>
<p>ä»£ç çš„æ ¸å¿ƒæ˜¯ï¼Œå¢åŠ head å¤´ï¼Œå¼€å¯åˆ†ç‰‡ Header(â€œAccept-Ranges: bytesâ€); è‡³äº Http range å¦‚ä½•è®¡ç®—ï¼Œå°±æ¯”è¾ƒç¹çäº†ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ã€‚æœ‰å…´è¶£çš„å¯ä»¥å»ç™¾åº¦</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre class=&quot;brush:html;gutter:true;&quot;&gt;&lt;?php</span><br><span class="line">$filePath = &apos;../doc/big.pdf&apos;;</span><br><span class="line"></span><br><span class="line">//åˆ†ç‰‡ä¸‹è½½</span><br><span class="line">chunk_download_file($filePath);</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * åˆ†ç¯‡ä¸‹è½½çš„æ±‰ä¹¦</span><br><span class="line"> *</span><br><span class="line"> * @param $file</span><br><span class="line"> * @param $fname</span><br><span class="line"> */</span><br><span class="line">function chunk_download_file($file, $fname = &apos;chunk.pdf&apos;)</span><br><span class="line">&#123;</span><br><span class="line">    $fhandle = fopen($file, &apos;rb&apos;);//æ–‡ä»¶å¥æŸ„</span><br><span class="line">    $fsize = filesize($file);//æ–‡ä»¶å¤§å°</span><br><span class="line"></span><br><span class="line">    //æ–­ç‚¹ç»­ä¼ å’Œæ•´ä¸ªæ–‡ä»¶ä¸‹è½½çš„åˆ¤æ–­ï¼Œæ”¯æŒå¤šæ®µä¸‹è½½</span><br><span class="line">    if (!empty($_SERVER[&apos;HTTP_RANGE&apos;])) &#123;</span><br><span class="line">        $range = str_replace(&quot;=&quot;, &quot;-&quot;, $_SERVER[&apos;HTTP_RANGE&apos;]);</span><br><span class="line">        $match = explode(&quot;-&quot;, $range);</span><br><span class="line">        $start = $match[1];</span><br><span class="line">        $end = !empty($match[2]) ? $match[2] : $fsize - 1;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $start = 0;</span><br><span class="line">        $end = $fsize - 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (($end - $start) &lt; ($fsize - 1)) &#123;</span><br><span class="line">        fseek($fhandle, $start);</span><br><span class="line">        header(&quot;HTTP/1.1 206 Partial Content&quot;);</span><br><span class="line">        header(&quot;Content-Length: &quot; . ($end - $start + 1));</span><br><span class="line">        header(&quot;Content-Range: bytes &quot; . $start . &quot;-&quot; . $end . &quot;/&quot; . $fsize);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        header(&quot;HTTP/1.1 200 OK&quot;);</span><br><span class="line">        header(&quot;Content-Length: $fsize&quot;);</span><br><span class="line">        Header(&quot;Accept-Ranges: bytes&quot;);</span><br><span class="line">        header(&quot;Content-Range: bytes &quot; . $start . &quot;-&quot; . $end . &quot;/&quot; . $fsize);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    header(&quot;Content-Type: application/octet-stream&quot;);</span><br><span class="line">    header(&quot;Content-Disposition: attachment;filename=$fname&quot;);</span><br><span class="line"></span><br><span class="line">    if (!feof($fhandle)) &#123;</span><br><span class="line">        set_time_limit(0);</span><br><span class="line">        $buffer = fread($fhandle, $end - $start + 1);</span><br><span class="line">        echo $buffer;</span><br><span class="line">        flush();</span><br><span class="line">        ob_flush();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><p>demo ä¸‹è½½è·¯å¾„ï¼š<br><a href="https://download.csdn.net/download/niedewang/10804164" target="_blank" rel="noopener">https://download.csdn.net/download/niedewang/10804164</a></p>
<p>3.2 æ¸…ç†è°ƒæµè§ˆå™¨ç¼“å­˜ï¼Œå‘ç°è¿™ç§æ–¹å¼å¯ä»¥è¾¾åˆ°åˆ†ç‰‡ä¸‹è½½çš„æ•ˆæœ</p>
<p>ç»è¿‡æµ‹è¯•ï¼Œè°·æ­Œæµè§ˆå™¨æ”¯æŒçš„å¾ˆå¥½ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆªå›¾å°±æ˜¯ä½¿ç”¨çš„è°·æ­Œæµè§ˆå™¨ã€‚<br>ä½†æ˜¯firefox åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œåˆ†ç‰‡æ•ˆæœä¸ç†æƒ³ã€‚å…·ä½“åŸå› æœªçŸ¥</p>
<p>ç®€è¦çš„æ€»ç»“<br>1ï¼šå‰æœŸæ‰¿è¯ºçš„demo æ”¾å‡ºæ¥äº†ï¼Œblogè²Œä¼¼ä¼šæ¸…ç†è¿æ¥åœ°å€ï¼Œä¸çŸ¥é“æ˜¯å¦ä¼šåˆ é™¤<br>2ï¼šä½¿ç”¨pdf çœŸå®æ–‡ä»¶è·¯å¾„ï¼Œåˆ†ç‰‡å…¼å®¹æ€§æœ€å¥½ã€‚ä½†æ˜¯åœ°å€å®¹æ˜“æ³„æ¼<br>3ï¼šå¦‚æœä½¿ç”¨php å¤„ç†ï¼Œä¸€èˆ¬çš„å¤„ç†ç¨‹åºï¼Œä¸èƒ½è¾¾åˆ°åˆ†ç‰‡æ•ˆæœã€‚éœ€è¦ç»“åˆhttp rangeç‰¹æ€§ï¼Œä½†æ˜¯ä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œfirefoxæµ‹è¯•ä¸‹æ¥ï¼Œæ•ˆæœä¸å¥½ã€‚è°·æ­Œæµè§ˆå™¨æ”¯æŒçš„è¾ƒå¥½ï¼Œå¥½æ¶ˆæ¯æ˜¯è°·æ­Œæµè§ˆå™¨ç°åœ¨å ç”¨é‡æ˜¯æœ€å¤§çš„ã€‚  </p>
<h2 id="4ï¼šåé¢æœ‰æ—¶é—´äº†ï¼Œä¼šä»‹ç»ä»¥ä¸‹ä½¿ç”¨-x-sendfile-çš„æ–¹å¼å¤„ç†é™„ä»¶ï¼Œæ— è®ºæ€§èƒ½è¿˜æ˜¯å…¼å®¹æ€§éƒ½æ¯”php-å¤„ç†è¦å¥½"><a href="#4ï¼šåé¢æœ‰æ—¶é—´äº†ï¼Œä¼šä»‹ç»ä»¥ä¸‹ä½¿ç”¨-x-sendfile-çš„æ–¹å¼å¤„ç†é™„ä»¶ï¼Œæ— è®ºæ€§èƒ½è¿˜æ˜¯å…¼å®¹æ€§éƒ½æ¯”php-å¤„ç†è¦å¥½" class="headerlink" title="4ï¼šåé¢æœ‰æ—¶é—´äº†ï¼Œä¼šä»‹ç»ä»¥ä¸‹ä½¿ç”¨ x-sendfile çš„æ–¹å¼å¤„ç†é™„ä»¶ï¼Œæ— è®ºæ€§èƒ½è¿˜æ˜¯å…¼å®¹æ€§éƒ½æ¯”php å¤„ç†è¦å¥½  "></a>4ï¼šåé¢æœ‰æ—¶é—´äº†ï¼Œä¼šä»‹ç»ä»¥ä¸‹ä½¿ç”¨ x-sendfile çš„æ–¹å¼å¤„ç†é™„ä»¶ï¼Œæ— è®ºæ€§èƒ½è¿˜æ˜¯å…¼å®¹æ€§éƒ½æ¯”php å¤„ç†è¦å¥½  </h2><p>ä½œè€…ï¼šåªçœ‹è¿œæ–¹<br>æ¥æºï¼šCSDN<br>åŸæ–‡ï¼š<a href="https://blog.csdn.net/niedewang/article/details/84576969" target="_blank" rel="noopener">https://blog.csdn.net/niedewang/article/details/84576969</a><br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·é™„ä¸Šåšæ–‡é“¾æ¥ï¼<br></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/f6aaf7d7.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/f6aaf7d7.html" itemprop="url">ä½¿ç”¨ JMeter è¿›è¡Œå‹åŠ›æµ‹è¯•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-21T18:20:00+08:00">
                2019-01-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>å‹åŠ›æµ‹è¯•æ˜¯æ¯ä¸€ä¸ªWebåº”ç”¨ç¨‹åºä¸Šçº¿ä¹‹å‰éƒ½éœ€è¦åšçš„ä¸€ä¸ªæµ‹è¯•ï¼Œä»–å¯ä»¥å¸®åŠ©æˆ‘ä»¬å‘ç°ç³»ç»Ÿä¸­çš„ç“¶é¢ˆé—®é¢˜ï¼Œå‡å°‘å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒåå‡ºé—®é¢˜çš„å‡ ç‡ï¼›é¢„ä¼°ç³»ç»Ÿçš„æ‰¿è½½èƒ½åŠ›ï¼Œä½¿æˆ‘ä»¬èƒ½æ ¹æ®å…¶åšå‡ºä¸€äº›åº”å¯¹æªæ–½ã€‚æ‰€ä»¥å‹åŠ›æµ‹è¯•æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ­¥éª¤ï¼Œä¸‹é¢æˆ‘å¸¦å¤§å®¶æ¥ä½¿ç”¨ä¸€æ¬¾å‹åŠ›æµ‹è¯•å·¥å…·JMeterã€‚</p>
<h2 id="äºŒ-å…³äºJMeter"><a href="#äºŒ-å…³äºJMeter" class="headerlink" title="äºŒ.å…³äºJMeter"></a>äºŒ.å…³äºJMeter</h2><p>Apache JMeteræ˜¯Apacheç»„ç»‡å¼€å‘çš„åŸºäºJavaçš„å‹åŠ›æµ‹è¯•å·¥å…·ã€‚ç”¨äºå¯¹è½¯ä»¶åšå‹åŠ›æµ‹è¯•ï¼Œå®ƒæœ€åˆè¢«è®¾è®¡ç”¨äºWebåº”ç”¨æµ‹è¯•ï¼Œä½†åæ¥æ‰©å±•åˆ°å…¶ä»–æµ‹è¯•é¢†åŸŸã€‚ å®ƒå¯ä»¥ç”¨äºæµ‹è¯•é™æ€å’ŒåŠ¨æ€èµ„æºï¼Œä¾‹å¦‚é™æ€æ–‡ä»¶ã€Java å°æœåŠ¡ç¨‹åºã€CGI è„šæœ¬ã€Java å¯¹è±¡ã€æ•°æ®åº“ã€FTP æœåŠ¡å™¨ï¼Œ ç­‰ç­‰ã€‚JMeter å¯ä»¥ç”¨äºå¯¹æœåŠ¡å™¨ã€ç½‘ç»œæˆ–å¯¹è±¡æ¨¡æ‹Ÿå·¨å¤§çš„è´Ÿè½½ï¼Œæ¥è‡ªä¸åŒå‹åŠ›ç±»åˆ«ä¸‹æµ‹è¯•å®ƒä»¬çš„å¼ºåº¦å’Œåˆ†ææ•´ä½“æ€§èƒ½ã€‚å¦å¤–ï¼ŒJMeterèƒ½å¤Ÿå¯¹åº”ç”¨ç¨‹åºåšåŠŸèƒ½/å›å½’æµ‹è¯•ï¼Œé€šè¿‡åˆ›å»ºå¸¦æœ‰æ–­è¨€çš„è„šæœ¬æ¥éªŒè¯ä½ çš„ç¨‹åºè¿”å›äº†ä½ æœŸæœ›çš„ç»“æœã€‚ä¸ºäº†æœ€å¤§é™åº¦çš„çµæ´»æ€§ï¼ŒJMeterå…è®¸ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åˆ›å»ºæ–­è¨€ã€‚<br>Apache jmeter å¯ä»¥ç”¨äºå¯¹é™æ€çš„å’ŒåŠ¨æ€çš„èµ„æºï¼ˆæ–‡ä»¶ï¼ŒServletï¼ŒPerlè„šæœ¬ï¼Œjava å¯¹è±¡ï¼Œæ•°æ®åº“å’ŒæŸ¥è¯¢ï¼ŒFTPæœåŠ¡å™¨ç­‰ç­‰ï¼‰çš„æ€§èƒ½è¿›è¡Œæµ‹è¯•ã€‚å®ƒå¯ä»¥ç”¨äºå¯¹æœåŠ¡å™¨ã€ç½‘ç»œæˆ–å¯¹è±¡æ¨¡æ‹Ÿç¹é‡çš„è´Ÿè½½æ¥æµ‹è¯•å®ƒä»¬çš„å¼ºåº¦æˆ–åˆ†æä¸åŒå‹åŠ›ç±»å‹ä¸‹çš„æ•´ä½“æ€§èƒ½ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒåšæ€§èƒ½çš„å›¾å½¢åˆ†ææˆ–åœ¨å¤§å¹¶å‘è´Ÿè½½æµ‹è¯•ä½ çš„æœåŠ¡å™¨/è„šæœ¬/å¯¹è±¡ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="http://jmeter.apache.org/download_jmeter.cgi" target="_blank" rel="noopener">http://jmeter.apache.org/download_jmeter.cgi</a></p>
<p>è¿™é‡Œæˆ‘é€‰ç”¨äº† 4.0 ç‰ˆæœ¬çš„äºŒè¿›åˆ¶åŒ…ï¼š<a href="http://mirror.bit.edu.cn/apache//jmeter/binaries/apache-jmeter-4.0.zip" target="_blank" rel="noopener">http://mirror.bit.edu.cn/apache//jmeter/binaries/apache-jmeter-4.0.zip</a></p>
<blockquote>
<p>æ›´å¤šå†…å®¹ä»‹ç» <a href="https://baike.baidu.com/item/Jmeter/3104456" target="_blank" rel="noopener">https://baike.baidu.com/item/Jmeter/3104456</a></p>
</blockquote>
<h2 id="ä¸‰-å‡†å¤‡å·¥ä½œ"><a href="#ä¸‰-å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸‰.å‡†å¤‡å·¥ä½œ"></a>ä¸‰.å‡†å¤‡å·¥ä½œ</h2><blockquote>
<p>å› ä¸ºJMeteræ˜¯ä½¿ç”¨JAVAå†™çš„ï¼Œæ‰€ä»¥ä½¿ç”¨JMeterä¹‹å‰ï¼Œå…ˆå®‰è£…JAVAç¯å¢ƒï¼Œæœ¬æ–‡å°±ä¸è®²ä¸å¦‚å®‰è£…JAVAç¯å¢ƒäº†ã€‚.</p>
</blockquote>
<p>JAVAç¯å¢ƒå˜é‡é…ç½®:<a href="https://jingyan.baidu.com/article/fd8044fa2c22f15031137a2a.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/fd8044fa2c22f15031137a2a.html</a></p>
<p>è§£å‹ä¸‹è½½çš„äºŒè¿›åˆ¶åŒ…ï¼Œè¿›å…¥binç›®å½•ï¼Œä½¿ç”¨<code>jmeter.bat</code>å¯åŠ¨ç¨‹åºã€‚</p>
<p>å¯åŠ¨ä¹‹åä¼šæœ‰ä¸¤ä¸ªçª—å£ï¼Œä¸€ä¸ªcmdçª—å£ï¼Œä¸€ä¸ªJMeterçš„ GUIã€‚å‰é¢<strong>ä¸è¦å¿½ç•¥</strong>CMDçª—å£çš„æç¤ºä¿¡æ¯ï¼š</p>
<p><img src="http://pangguoming.com/blog/images/251c9f05-c2f4-4938-ba27-855c498556af.png" alt=""></p>
<p>JMeter:</p>
<p><img src="http://pangguoming.com/blog/images/ebcd2eb6-d344-48f6-9d6d-249521e68f75.png" alt=""></p>
<h3 id="CMDçª—å£çš„æç¤ºä¿¡æ¯"><a href="#CMDçª—å£çš„æç¤ºä¿¡æ¯" class="headerlink" title="CMDçª—å£çš„æç¤ºä¿¡æ¯"></a>CMDçª—å£çš„æç¤ºä¿¡æ¯</h3><p><code class="hljs">================================================================================<br>    Donâ€™t use GUI mode for load testing !, only for Test creation and Test debugging.<br>    For load testing, use NON GUI Mode:<br>       jmeter -n -t [jmx file] -l [results file] -e -o [Path to web report folder]<br>    &amp; increase Java Heap to meet your test requirements:<br>       Modify current env variable HEAP=â€-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256mâ€ in the jmeter batch file<br>    Check : <a href="https://jmeter.apache.org/usermanual/best-practices.html" target="_blank" rel="noopener">https://jmeter.apache.org/usermanual/best-practices.html</a><br>    ================================================================================</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ä¸Šé¢çš„æ„æ€å°±æ˜¯ï¼šä¸è¦ä½¿ç”¨GUIè¿è¡Œå‹åŠ›æµ‹è¯•ï¼ŒGUIä»…ç”¨äºå‹åŠ›æµ‹è¯•çš„åˆ›å»ºå’Œè°ƒè¯•ï¼›æ‰§è¡Œå‹åŠ›æµ‹è¯•è¯·ä¸è¦ä½¿ç”¨GUIã€‚ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ‰§è¡Œæµ‹è¯•ï¼š</span><br><span class="line"></span><br><span class="line">    &lt;pre class=&quot;shell&quot;&gt;&lt;code class=&quot;hljs&quot;&gt; jmeter -n -t [jmx file] -l [results file] -e -o [Path to web report folder]&lt;/code&gt;</span><br></pre></td></tr></table></figure></p>
<p>å¹¶ä¸”ä¿®æ”¹JMeteræ‰¹å¤„ç†æ–‡ä»¶çš„ç¯å¢ƒå˜é‡ï¼š<code>HEAP=&quot;-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m&quot;</code></p>
<pre><code>### æ›´æ”¹è¯­è¨€ä¸ºä¸­æ–‡
</code></pre><p>å®˜æ–¹é»˜è®¤ä¸ºæˆ‘ä»¬æä¾›äº†ç®€ä½“ä¸­æ–‡ã€‚é€šè¿‡ ã€Optionsã€‘-&gt;ã€Choose Languageã€‘å˜æ›´ä¸ºç®€ä½“ä¸­æ–‡</p>
<p><img src="http://pangguoming.com/blog/images/3303341c-1dff-4779-9bdd-399533987640.png" alt=""></p>
<pre><code>## å››.åˆ›å»ºæµ‹è¯•

### 1.åˆ›å»ºçº¿ç¨‹ç»„
</code></pre><p>åœ¨â€œæµ‹è¯•è®¡åˆ’â€ä¸Šå³é”® ã€æ·»åŠ ã€‘â€“&gt;ã€Threads(Users)ã€‘â€“&gt;ã€çº¿ç¨‹ç»„ã€‘ã€‚</p>
<p><img src="http://pangguoming.com/blog/images/b8d200e3-dfb4-4b35-b6ed-69a40ea14330.png" alt=""></p>
<p>è®¾ç½®çº¿ç¨‹æ•°å’Œå¾ªç¯æ¬¡æ•°ã€‚æˆ‘è¿™é‡Œè®¾ç½®çº¿ç¨‹æ•°ä¸º500ï¼Œå¾ªç¯ä¸€æ¬¡ã€‚</p>
<p><img src="http://pangguoming.com/blog/images/71caf477-fa6d-431e-a52c-d1e9faf90e9f.png" alt=""></p>
<pre><code>### 2.é…ç½®å…ƒä»¶
</code></pre><p>åœ¨æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„çº¿ç¨‹ç»„ä¸Šå³é”® ã€æ·»åŠ ã€‘â€“&gt;ã€é…ç½®å…ƒä»¶ã€‘â€“&gt;ã€HTTPè¯·æ±‚é»˜è®¤å€¼ã€‘ã€‚</p>
<p><img src="http://pangguoming.com/blog/images/c5630d08-f05e-4647-a7ff-6defb29b9a4d.png" alt=""></p>
<p>é…ç½®æˆ‘ä»¬éœ€è¦è¿›è¡Œæµ‹è¯•çš„ç¨‹åºåè®®ã€åœ°å€å’Œç«¯å£</p>
<p><img src="http://pangguoming.com/blog/images/4b2b16e2-9e0a-44e5-9f64-a6ac7c3b8c9a.png" alt=""></p>
<blockquote>
<p>å½“æ‰€æœ‰çš„æ¥å£æµ‹è¯•çš„è®¿é—®åŸŸåå’Œç«¯å£éƒ½ä¸€æ ·æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å…ƒä»¶ï¼Œä¸€æ—¦æœåŠ¡å™¨åœ°å€å˜æ›´ï¼Œåªéœ€è¦ä¿®æ”¹è¯·æ±‚é»˜è®¤å€¼å³å¯ã€‚</p>
</blockquote>
<pre><code>### 3.æ„é€ HTTPè¯·æ±‚
</code></pre><p>åœ¨â€œçº¿ç¨‹ç»„â€å³é”® ã€æ·»åŠ -ã€‘-&gt;ã€samlperã€‘â€“&gt;ã€HTTP è¯·æ±‚ã€‘è®¾ç½®æˆ‘ä»¬éœ€è¦æµ‹è¯•çš„APIçš„è¯·æ±‚è·¯å¾„å’Œæ•°æ®ã€‚æˆ‘è¿™é‡Œæ˜¯ç”¨çš„json</p>
<p><img src="http://pangguoming.com/blog/images/0a565b59-25ea-487c-b090-80ec9375255b.png" alt=""></p>
<pre><code>### 4.æ·»åŠ HTTPè¯·æ±‚å¤´
</code></pre><p>åœ¨æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„çº¿ç¨‹ç»„ä¸Šå³é”® ã€æ·»åŠ ã€‘â€“&gt;ã€é…ç½®å…ƒä»¶ã€‘â€“&gt;ã€HTTPä¿¡æ¯å¤´ç®¡ç†å™¨ã€‘ã€‚</p>
<p>å› ä¸ºæˆ‘è¦ä¼ è¾“çš„æ•°æ®ä¸ºjsonï¼Œæ‰€ä»¥è®¾ç½®ä¸€ä¸ª <code>Content-Type:application/json</code></p>
<p><img src="http://pangguoming.com/blog/images/e1620012-ca9d-4ce2-96d4-6e02ceb2565f.png" alt=""></p>
<pre><code>### 5.æ·»åŠ æ–­è¨€
</code></pre><p>åœ¨æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„çº¿ç¨‹ç»„ä¸Šå³é”® ã€æ·»åŠ ã€‘â€“&gt;ã€æ–­è¨€ã€‘â€“&gt;ã€å“åº”æ–­è¨€ã€‘ã€‚</p>
<p>æ ¹æ®å“åº”çš„æ•°æ®æ¥åˆ¤æ–­è¯·æ±‚æ˜¯å¦æ­£å¸¸ã€‚æˆ‘åœ¨è¿™é‡Œåªåˆ¤æ–­çš„å“åº”ä»£ç æ˜¯å¦ä¸º200ã€‚è¿˜å¯ä»¥é…ç½®é”™è¯¯ä¿¡æ¯</p>
<p><img src="http://pangguoming.com/blog/images/6c5e0442-0bf6-4dfd-a92a-e0d9169f0e85.png" alt=""></p>
<pre><code>### 6.æ·»åŠ å¯Ÿçœ‹ç»“æœæ ‘
</code></pre><p>åœ¨æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„çº¿ç¨‹ç»„ä¸Šå³é”® ã€æ·»åŠ ã€‘â€“&gt;ã€ç›‘å¬å™¨ã€‘â€“&gt;ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‘ã€‚</p>
<p>ç›´æ¥æ·»åŠ ï¼Œç„¶åç‚¹å‡»<code>è¿è¡Œ</code>æŒ‰é’®å°±å¯ä»¥çœ‹åˆ°ç»“æœäº†ã€‚</p>
<p><img src="http://pangguoming.com/blog/images/a65764db-19ae-40f9-b473-26f860eb2d50.png" alt=""></p>
<pre><code>### 7.æ·»åŠ Summary Report
</code></pre><p>åœ¨æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„çº¿ç¨‹ç»„ä¸Šå³é”® ã€æ·»åŠ ã€‘â€“&gt;ã€ç›‘å¬å™¨ã€‘â€“&gt;ã€Summary Reportã€‘ã€‚</p>
<p>ç›´æ¥æ·»åŠ ï¼Œç„¶åç‚¹å‡»<code>è¿è¡Œ</code>æŒ‰é’®å°±å¯ä»¥çœ‹åˆ°ç»“æœäº†ã€‚</p>
<p><img src="http://pangguoming.com/blog/images/b2e5ddd5-948c-410d-8cad-6ff87853bda8.png" alt=""></p>
<blockquote>
<p>ä¸ºäº†ä¸å¼•èµ·ä¸å¿…è¦çš„äº‰è®ºï¼Œéšè—äº†TPSã€‚æ­¤æ•°æ®ä¸å…·å¤‡ä»»ä½•ä»·å€¼ï¼Œä»…ä»…ä¸ºæ–‡ç« æ¼”ç¤ºã€‚</p>
</blockquote>
<pre><code>### 8.æµ‹è¯•è®¡åˆ’åˆ›å»ºå®Œæˆ
</code></pre><p>è®°å¾—ç‚¹ä¿å­˜ã€‚</p>
<pre><code>## äº”.æ‰§è¡Œæµ‹è¯•è®¡åˆ’
</code></pre><p>å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œæ‰§è¡Œæµ‹è¯•è®¡åˆ’ä¸èƒ½ç”¨GUIï¼Œéœ€è¦ç”¨å‘½ä»¤è¡Œæ¥æ‰§è¡Œã€‚</p>
<p><img src="http://pangguoming.com/blog/images/e8493400-5bb2-45ae-be6c-d7c7fd5c1623.png" alt=""></p>
<p>æˆ‘è¿™é‡Œæ‰§è¡Œçš„å‘½ä»¤ä¸ºï¼š</p>
<pre><code>&lt;pre class=&quot;shell&quot;&gt;&lt;code class=&quot;hljs&quot;&gt;jmeter -n -t testplan/RedisLock.jmx -l testplan/result/result.txt -e -o testplan/webreport&lt;/code&gt;```
</code></pre><p>è¯´æ˜ï¼š</p>
<p><code>testplan/RedisLock.jmx</code> ä¸ºæµ‹è¯•è®¡åˆ’æ–‡ä»¶è·¯å¾„<br><code>testplan/result/result.txt</code> ä¸ºæµ‹è¯•ç»“æœæ–‡ä»¶è·¯å¾„<br><code>testplan/webreport</code> ä¸ºwebæŠ¥å‘Šä¿å­˜è·¯å¾„ã€‚</p>
<p>WebæŠ¥å‘Šå¦‚ä¸‹ï¼š</p>
<p><img src="http://pangguoming.com/blog/images/c16dd9d8-4b43-4ff4-a83a-d070717805f9.png" alt=""></p>
<pre><code>## å…­.å†™åœ¨æœ€å
</code></pre><p>çº¿ç¨‹æ•°é‡å’Œå¾ªç¯æ¬¡æ•°å°†ä¼šå½±å“æœ€ç»ˆçš„æµ‹è¯•æŠ¥å‘Š,è¯·å¤§å®¶å¤šå¤šæµ‹è¯•ã€‚<br></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pangguoming.com/post/e5142445.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åºå›½æ˜">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åºå›½æ˜-åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/e5142445.html" itemprop="url">Centos7 è®¾ç½®ã€æŸ¥çœ‹ã€æ·»åŠ ã€åˆ é™¤æœåŠ¡çš„å¼€æœºå¯åŠ¨é¡¹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-18T15:28:00+08:00">
                2019-01-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æŸ¥çœ‹å¼€æœºå¯åŠ¨é¡¹</p>
<p>systemctl list-unit-files |   grep enable</p>
<p>ä¸ºæœåŠ¡æ·»åŠ å¼€æœºå¯åŠ¨é¡¹</p>
<p>systemctl enable zabbix-server.service</p>
<p>ç§»é™¤å¼€æœºå¯åŠ¨é¡¹çš„æœåŠ¡</p>
<p>[root@localhost bin]# systemctl disable zabbix-server.service<br>Removed symlink /etc/systemd/system/multi-user.target.wants/zabbix-server.service.</p>
<p>å‡ä»·ä¿®æ”¹è‡ªå®šä¹‰å¼€æœºå¯åŠ¨çš„è„šæœ¬</p>
<p>ä¿®æ”¹ /etc/rc.d/rc.local è¿™ä¸ªæ–‡ä»¶</p>
<p>ä¾‹å¦‚å°† apacheã€mysqlã€sambaã€svn ç­‰è¿™äº›æœåŠ¡çš„å¼€æœºè‡ªå¯åŠ¨é—®é¢˜ä¸€èµ·æå®šï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@localhost ~]# vim /etc/rc.d/rc.local</span><br><span class="line"></span><br><span class="line">    #æ·»åŠ ä»¥ä¸‹å‘½ä»¤</span><br><span class="line"></span><br><span class="line">    /usr/sbin/apachectl start</span><br><span class="line"></span><br><span class="line">    /etc/rc.d/init.d/mysqld start</span><br><span class="line"></span><br><span class="line">    /etc/rc.d/init.d/smb start</span><br><span class="line"></span><br><span class="line">    /usr/local/subversion/bin/svnserve -d</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/42/">42</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://avatars0.githubusercontent.com/u/7269202?s=460&v=4" alt="åºå›½æ˜">
            
              <p class="site-author-name" itemprop="name">åºå›½æ˜</p>
              <p class="site-description motion-element" itemprop="description">Software make the information world run, and programer make the softeware run.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">420</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">267</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/pangguoming" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:pangguoming@yeah.net" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/pangguoming" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://stackoverflow.com/users/1570700/pangguoming" target="_blank" title="StackOverflow">
                      
                        <i class="fa fa-fw fa-stack-overflow"></i>StackOverflow</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://instagram.com/pangguoming" target="_blank" title="Instagram">
                      
                        <i class="fa fa-fw fa-instagram"></i>Instagram</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">åºå›½æ˜</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    

    







  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  

  

  
  

  

  

  

</body>
</html>
